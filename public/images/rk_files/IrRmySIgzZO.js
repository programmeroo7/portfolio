if (self.CavalryLogger) { CavalryLogger.start_js(["n2CCe"]); }

__d("Asset3DBackgroundList",[],(function(a,b,c,d,e,f){"use strict";a=["default","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","twenty","twentyone","twentytwo","twentythree","twentyfour","twentyfive","twentysix","twentyseven","twentyeight","twentynine","thirty","thirtyone","thirtytwo","thirtythree","thirtyfour","thirtyfive","thirtysix"];e.exports=a}),null);
__d("CampfireCommands",[],(function(a,b,c,d,e,f){a=Object.freeze({TOGGLE_LINK:"TOGGLE_LINK",SAVE_DRAFT:"SAVE_DRAFT"});e.exports=a}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").hasCommandModifier;function a(a){if(a.keyCode===75&&g(a))return b("CampfireCommands").TOGGLE_LINK;return a.keyCode===83&&g(a)?b("CampfireCommands").SAVE_DRAFT:b("getDefaultKeyBinding")(a)}e.exports=a}),null);
__d("EmojiPickerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.handleAction=function(a){this.dispatch(a)};return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("EmojiPickerActions",["EmojiPickerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({SET_EMOJI_CATEGORY_DATA:null,SET_RECENTLY_USED:null,SET_SEARCH:null,SET_SELECTED_CATEGORY:null}),h=babelHelpers["extends"]({},g,{setEmojiCategoryData:function(a){b("EmojiPickerDispatcher").dispatch({data:a,type:g.SET_EMOJI_CATEGORY_DATA})},setRecentlyUsed:function(a){b("EmojiPickerDispatcher").dispatch({emoji:a,type:h.SET_RECENTLY_USED})},setSearch:function(a){b("EmojiPickerDispatcher").dispatch({search:a,type:g.SET_SEARCH})},setSelectedCategory:function(a,c,d){b("EmojiPickerDispatcher").dispatch({doNotUpdateScrollPosition:c,loadedCategories:d,selectedCategoryIndex:a,type:h.SET_SELECTED_CATEGORY})}});e.exports=h}),null);
__d("ComposerTargetData",[],(function(a,b,c,d,e,f){a=function(a,b,c,d){"use strict";this.targetID=a,this.targetSupportsMultiplePhotos=b,this.viewerIsTarget=c,this.targetSupportsMultiMedia=d};e.exports=a}),null);
__d("TextDelightInputDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=".",i="delight";a=function(){__p&&__p();function a(a,b){this.__installedDecorators={textDelightsDecorator:!0},this.$2=a,this.$1=b,b&&Object.assign(this.__installedDecorators,b.__installedDecorators)}var b=a.prototype;b.getDecorations=function(a,b){var c=this.$1?this.$1.getDecorations(a,b).toArray():Array(a.getText().length).fill(null),d=0,e=this.$2.strategy,f=function(a,b){j(c,a,b)&&(k(c,a,b,i+h+d),d++)};e(a,f,b);return g(c)};b.getComponentForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.component:this.$1.getComponentForKey(a)};b.getPropsForKey=function(a){return!this.$1||a.split(h)[0]===i?this.$2.props:this.$1.getPropsForKey(a)};return a}();function j(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function k(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("TextDelightSpan.react",["cx","Bootloader","React","SubscriptionsHandler","TextDelightInComposerGating","TextDelightInComposerLogger","createObjectFrom"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=!1,d.$3=new(b("SubscriptionsHandler"))(),d.$4=function(){var a=d.props.contentState.getEntity(d.props.entityKey).getData();b("TextDelightInComposerLogger").rangeTapped(a.funnelKey,a.campaignID,a.keyword,a.surface)},d.$5=function(){var a=d.props.contentState.mergeEntityData(d.props.entityKey,{disabled:!0});a=a.getEntity(d.props.entityKey).getData();b("TextDelightInComposerLogger").optOutTapped(a.funnelKey,a.campaignID,a.keyword,a.surface);d.props.onXOut&&d.props.onXOut(a);d.props.triggerChange&&d.props.triggerChange()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$2=!0;var c=this.props.contentState.getEntity(this.props.entityKey).getData();if(c.disabled)return;var d=c.campaignID;d&&b("Bootloader").loadModules(["TextDelightController"],function(b){if(a.$2===!1)return;a.$3.addSubscriptions(b.attachClickListener(a.$1,d,a.props.decoratedText,c.surface,a.$4))},"TextDelightSpan.react")};d.componentWillUnmount=function(){this.$2=!1,this.$3.release()};d.render=function(){__p&&__p();var a=this,c=this.props.contentState.getEntity(this.props.entityKey).getData();if(c.disabled)return this.props.children;var d=c.styles,e=Object.keys(d);e=b("createObjectFrom")(e.map(function(a){return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}),e.map(function(a){return d[a]}));c=b("TextDelightInComposerGating").isXbuttonEnabled(c.surface);var f=null;c&&(f=b("React").jsx("span",{role:"link",tabIndex:-1,className:"_6854",onClick:this.$5}));return b("React").jsxs("span",babelHelpers["extends"]({},this.props,{style:e,"data-offset-key":this.props.offsetKey,className:"_3yzm",spellCheck:!1,children:[b("React").jsx("span",{className:"_2k9q",ref:function(b){a.$1=b},children:this.props.children}),f]}))};return c}(b("React").Component);e.exports=a}),null);
__d("keyCommandBackspaceDelight",["EditorState","TextDelightInComposerLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed())return null;var d=c.getStartKey(),e=a.getCurrentContent();d=e.getBlockForKey(d);if(c.getAnchorOffset()===0)return null;var f=d.getEntityAt(c.getAnchorOffset()-1);if(!f)return null;var g=e.getEntity(f);if(g.getType()!=="DELIGHT")return null;if(g.getData().disabled)return null;if(d.getEntityAt(c.getAnchorOffset())===f)return null;e.mergeEntityData(f,{disabled:!0});g=e.getEntity(f).getData();b("TextDelightInComposerLogger").optOutBackspace(g.funnelKey,g.campaignID,g.keyword,g.surface);return b("EditorState").forceSelection(a,c)};e.exports=a}),null);
__d("addTextDelightInputImpl",["Bootloader","EditorState","React","TextDelightConfig","TextDelightInComposerGating","TextDelightInputDecorator","TextDelightSpan.react","getEntityMatcher","keyCommandBackspaceDelight"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("TextDelightConfig").composerOptions,h=null;a=function(a,c){__p&&__p();return function(d){__p&&__p();babelHelpers.inheritsLoose(e,d);function e(){__p&&__p();var a,e;for(var f=arguments.length,h=new Array(f),i=0;i<f;i++)h[i]=arguments[i];return(a=e=d.call.apply(d,[this].concat(h))||this,e.$1=function(a,d){__p&&__p();if(!b("TextDelightInComposerGating").isBackspaceEnabled(c))return"not-handled";var f=null;switch(a){case"backspace":f=b("keyCommandBackspaceDelight")(d);break}if(f){e.props.onChange(f);return"handled"}return e.props.handleKeyCommand?e.props.handleKeyCommand(a,d):"not-handled"},e.$2=null,e.$3=function(a){e.$2&&clearTimeout(e.$2),e.props.onChange&&e.props.onChange(a),a.getCurrentContent().hasText()&&g.autoHighlightThresholdMs>0&&(e.$2=setTimeout(function(){e.$4()},g.autoHighlightThresholdMs))},e.$5=function(){var a=e.props.editorState;e.$3(b("EditorState").create({currentContent:a.getCurrentContent(),decorator:a.getDecorator(),selection:a.getSelection()}))},a)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.blur=function(){var a=this.refs.component;a&&typeof a.blur==="function"&&a.blur()};f.click=function(){var a=this.refs.component;a&&typeof a.click==="function"&&a.click()};f.focus=function(){var a=this.refs.component;a&&typeof a.focus==="function"&&a.focus()};f.$4=function(){if(!h){b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){h=a},"addTextDelightInputImpl");return}var a=h.matchLastWord(this.props.editorState,this.props.delightFunnelID,c);this.props.onChange&&this.props.onChange(a)};f.componentWillUnmount=function(){clearTimeout(this.$2)};f.render=function(){__p&&__p();var d;if(!b("TextDelightInComposerGating").isEnabled(c))return b("React").jsx(a,babelHelpers["extends"]({},this.props,{ref:"component"}));if(this.props.config&&this.props.config.actorConfig&&this.props.config.actorConfig.selectedActorID&&this.props.config.actorConfig.selectedActorID!==this.props.config.actorConfig.viewerAccountID)return b("React").jsx(a,babelHelpers["extends"]({},this.props,{ref:"component"}));var e=this.props.editorState,f=e.getDecorator();if(!b("TextDelightInComposerGating").isHighlightEnabled(c))return b("React").jsx(a,babelHelpers["extends"]({},this.props,{ref:"component"}));c==="comment"&&(f==null||((d=f)!=null?(d=d.__installedDecorators)!=null?d.textDelightsDecorator:d:d)!==!0)&&(e=b("EditorState").set(e,{decorator:new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"}),component:b("TextDelightSpan.react"),props:{triggerChange:this.$5}},f)}));return b("React").jsx(a,babelHelpers["extends"]({},this.props,{onChange:this.$3,editorState:e,handleKeyCommand:this.$1,ref:"component"}))};return e}(b("React").Component)};e.exports=a}),null);
__d("XPagesPostPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/previews/",{location:{type:"Enum",enumType:0},post_id:{type:"Int",required:!0},preview_container_dom_id:{type:"String",required:!0},site:{type:"String",required:!0},use_permalink_story_location:{type:"Bool",defaultValue:!1}})}),null);
__d("PageContentTabPreviews.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","Bootloader","BusinessURI.brands","CenteredContainer.react","PageContentTabConstants","React","ServerHTML.react","ShimButton.react","XPagesPostPreviewController","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PageContentTabConstants").PREVIEW_TABS,j="ready",k="loading",l="failed";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={desktopPreviewState:k,mobilePreviewState:k,instagramPreviewState:k,storiesPreviewState:k,mobilePreviewContainerHeight:0,preview:null,creativeData:null},d.$9=function(){d.props.permalinkURL!=null&&window.open(b("BusinessURI.brands")(d.props.permalinkURL),"_blank")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("Arbiter").subscribe("page_post_previews_iframe_resize",function(b,c){a.state.mobilePreviewContainerHeight!==c&&a.setState({mobilePreviewContainerHeight:c})});this.$2(this.props.postID)};d.componentWillUnmount=function(){this.$1!=null&&b("Arbiter").unsubscribe(this.$1)};d.UNSAFE_componentWillReceiveProps=function(a){a.renderID!==this.props.renderID&&this.$2(a.postID)};d.$3=function(a){return"DESKTOP_PREVIEW_"+this.props.renderID+"_"+a};d.$4=function(a){return"MOBILE_PREVIEW_"+this.props.renderID+"_"+a};d.$5=function(a,c,d,e,f,g){var h=this;e=e.getURIBuilder().setInt("page_id",a).setInt("post_id",c).setString("ref",d.NEW_TIMELINE).setEnum("product","boosted_post");d=b("ActorURI").create(e.getURI(),a);new(b("AsyncRequest"))(d).setHandler(function(a){a=a.payload;var b=a.creative_store_data,d=a.ad_account_store_data;h.setState({creativeData:JSON.stringify(b.default_creative_spec)},function(){return h.$6(c,d.selectedAccountID,f,g)})}).setErrorHandler(function(a){h.setState({storiesPreviewState:l,instagramPreviewState:l})}).send()};d.$6=function(a,c,d,e){var f=this;a=d.getURIBuilder().setFBID("ad_account_id",c).setEnum("ad_preview_format",e).setString("creative_spec",this.state.creativeData).setBool("is_sponsored",!1).getURI();d=b("ActorURI").create(a,this.props.pageID);new(b("AsyncRequest"))(d).setHandler(function(a){a.error||(f.props.isInstagramSelected===!0?f.setState({instagramPreviewState:j,preview:a.getPayload().markup}):f.props.isStoriesSelected===!0&&f.setState({storiesPreviewState:j,preview:a.getPayload().markup}))}).setErrorHandler(function(a){f.props.isInstagramSelected===!0?f.setState({instagramPreviewState:l}):f.props.isStoriesSelected===!0&&f.setState({storiesPreviewState:l})}).send()};d.$7=function(){if(this.props.isStoriesSelected===!0)return"FACEBOOK_STORY_MOBILE";else return"INSTAGRAM_STANDARD"};d.$2=function(a){__p&&__p();var c=this;if(this.props.isTimelineSelected!==!1){var d=b("XPagesPostPreviewController").getURIBuilder().setInt("post_id",a).setString("site","desktop").setString("preview_container_dom_id",this.$3(a)).setEnum("location",46).getURI();d=b("ActorURI").create(d,this.props.pageID);new(b("AsyncRequest"))(d).setHandler(function(a){a.error||c.setState({desktopPreviewState:j})}).setErrorHandler(function(a){c.setState({desktopPreviewState:l})}).send();d=b("XPagesPostPreviewController").getURIBuilder().setInt("post_id",a).setString("site","mobile").setString("preview_container_dom_id",this.$4(a)).setEnum("location",46).getURI();d=b("ActorURI").create(d,this.props.pageID);new(b("AsyncRequest"))(d).setHandler(function(a){a.error||c.setState({mobilePreviewState:j})}).setErrorHandler(function(a){c.setState({mobilePreviewState:l})}).send()}this.props.isInstagramSelected===!0||this.props.isStoriesSelected===!0?b("Bootloader").loadModules(["BoostedComponentRef","XBoostedComponentFetchDialogDataController","XAdsLWIAdPreviewController"],function(b,d,e){c.$5(c.props.pageID,a,b,d,e,c.$7())},"PageContentTabPreviews.react"):this.setState({instagramPreviewState:j,storiesPreviewState:j})};d.$8=function(){return b("React").jsxs("div",{className:"_4gd8",children:[b("React").jsx(b("XUISpinner.react"),{background:"light",className:(this.state.desktopPreviewState!==k?"hidden_elem":"")+" _3dcc",size:"large"}),b("React").jsxs("div",{className:(this.state.desktopPreviewState!==l?"hidden_elem":"")+" _50p-",children:[b("React").jsx(b("XUIText.react"),{display:"block",size:"header4",weight:"bold",children:h._("Error")}),b("React").jsx(b("XUIText.react"),{display:"block",size:"meta1",children:h._("Desktop Preview Not Available")})]}),b("React").jsxs("div",{className:this.props.permalinkURL?"_2h5v":"",children:[b("React").jsx("div",{className:this.state.desktopPreviewState!==j?"hidden_elem":"",id:this.$3(this.props.postID)}),this.props.showClickMask!==!1&&b("React").jsx(b("ShimButton.react"),{className:"_5e69",onClick:this.$9})]})]})};d.$10=function(){return b("React").jsxs("div",{className:"_4gd8",children:[b("React").jsx(b("XUISpinner.react"),{background:"light",className:(this.state.mobilePreviewState!==k?"hidden_elem":"")+" _3dcc",size:"large"}),b("React").jsxs("div",{className:(this.state.mobilePreviewState!==l?"hidden_elem":"")+" _50p-",children:[b("React").jsx(b("XUIText.react"),{display:"block",size:"header4",weight:"bold",children:h._("Error")}),b("React").jsx(b("XUIText.react"),{display:"block",size:"meta1",children:h._("Mobile Preview Not Available")})]}),b("React").jsx("div",{className:(this.state.mobilePreviewState!==j?"hidden_elem":"")+(this.props.permalinkURL?" _5e6a":""),height:this.state.mobilePreviewContainerHeight,id:this.$4(this.props.postID),onClick:this.$9,ref:"mobilePreviewContainer",role:"button",tabIndex:"0"})]})};d.$11=function(a,c){return b("React").jsxs("div",{className:"_4gd8",children:[b("React").jsx(b("XUISpinner.react"),{background:"light",className:(c!==k?"hidden_elem":"")+" _3dcc",size:"large"}),b("React").jsxs("div",{className:(c!==l?"hidden_elem":"")+" _50p-",children:[b("React").jsx(b("XUIText.react"),{display:"block",size:"header4",weight:"bold",children:h._("Error")}),b("React").jsx(b("XUIText.react"),{display:"block",size:"meta1",children:h._("Preview Not Available")})]}),a!==null&&b("React").jsx(b("CenteredContainer.react"),{children:b("React").jsx(b("ServerHTML.react"),{blob:a})})]})};d.$12=function(){var a=this.state.preview;a=a===void 0?null:a;var b=this.props.isInstagramSelected===!0?this.state.instagramPreviewState:this.state.storiesPreviewState;return this.$11(a,b)};d.render=function(){var a=this.props.isInstagramSelected===!0?i.INSTAGRAM:i.STORIES;return b("React").jsxs("div",{className:"_4gd5"+(this.props.selectedTab===i.DESKTOP?" _4gd6":"")+(this.props.selectedTab===i.MOBILE?" _4gd7":"")+(this.props.selectedTab===a?" _8bhz":"")+(this.props.showCloserSecondPreview===!0?" more-left":""),children:[this.$8(),this.$10(),this.$12()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesComposerEmptyTextWarningStringUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Post without a caption?");b=g._("Add a caption to your post to engage people");c=g._("People tend to engage more when you add text to a post. Tell people about what you are posting.");e.exports={EMPTY_TEXT_WARNING_TITLE_V1:a,EMPTY_TEXT_WARNING_BODY_V1:b,EMPTY_TEXT_WARNING_BODY_V2:c}}),null);
__d("PagesComposerEmptyTextInComposerNotice.react",["ix","cx","FDSText.react","Image.react","PagesComposerEmptyTextWarningStringUtils","React","asset","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesComposerEmptyTextWarningStringUtils").EMPTY_TEXT_WARNING_BODY_V2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=b("joinClasses")("_585n","_1wpa","_7d24"),d=b("joinClasses")("_585r","_50f3");return(a=b("React")).jsxs("div",{className:c,children:[a.jsx(b("Image.react"),{className:"_7d25",src:g("492701")}),a.jsx("div",{className:d,children:a.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesComposerNuxActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({INITIALIZE_NUX_CONFIG:null,SET_SHOW_NUX_IN_CURRENT_SESSION:null,SET_DISMISS_NUX_IN_CURRENT_SESSION:null,IS_CONTEXTUAL_DIALOG_MOUNTED:null},"PagesComposerNuxActionTypes")}),null);
__d("XPagesComposerNuxImpressionCounterUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages_composer/nux_impression_counter_update/",{nux_product_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PagesComposerNuxStore",["ActorURI","AsyncRequest","PagesComposerNuxActionTypes","ReactComposerActionStore","XPagesComposerNuxImpressionCounterUpdateController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;return c=a.call(this,function(){return Object.assign({},{nuxConfig:null})},function(a){__p&&__p();switch(a.type){case b("PagesComposerNuxActionTypes").INITIALIZE_NUX_CONFIG:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore1(a);break;case b("PagesComposerNuxActionTypes").SET_SHOW_NUX_IN_CURRENT_SESSION:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore2(a);break;case b("PagesComposerNuxActionTypes").SET_DISMISS_NUX_IN_CURRENT_SESSION:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore3(a);break;case b("PagesComposerNuxActionTypes").IS_CONTEXTUAL_DIALOG_MOUNTED:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore4(a);break;default:return}})||this}var d=c.prototype;d.$PagesComposerNuxStore4=function(a){a=this.validateAction(a,["composerID","isContextualDialogMounted"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isContextualDialogMounted=a;this.emitChange(b)};d.$PagesComposerNuxStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","productID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c=c.nuxConfig;if(!c)return;c=this.getNuxProductTypeConfig(b,a);if(!c)return;c.dismissed_in_session=!0;this.setNuxProductTypeConfig(b,a,c)};d.$PagesComposerNuxStore2=function(a){__p&&__p();a=this.validateAction(a,["composerID","productID","pageID"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d=d.nuxConfig;if(!d)return;d=this.getNuxProductTypeConfig(b,c);if(!d)return;d.shown_in_session=!0;this.setNuxProductTypeConfig(b,c,d);this.updateNuxImpressionCounter(b,c,a,d)};d.updateNuxImpressionCounter=function(a,c,d,e){var f=this,g=e.impression_days,h=e.nux_variant,i=e.current_impression_counter;if(!Number.isInteger(i)||!Number.isInteger(g)||Boolean(h)===!1)return;g=b("ActorURI").create(b("XPagesComposerNuxImpressionCounterUpdateController").getURIBuilder().setEnum("nux_product_type",c).getURI(),d);new(b("AsyncRequest"))().setURI(g).setHandler(function(){e.current_impression_counter=i+1,f.setNuxProductTypeConfig(a,c,e)}).send()};d.$PagesComposerNuxStore1=function(a){a=this.validateAction(a,["composerID","nuxConfig"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.nuxConfig=b("immutable").fromJS(a);this.emitChange(c)};d.setNuxProductTypeConfig=function(a,c,d){var e=this.getComposerData(a),f=e.nuxConfig;if(!f)return;e.nuxConfig=f.set(c,b("immutable").fromJS(d));this.emitChange(a)};d.getIsContextualDialogMounted=function(a){a=this.getComposerData(a);return!!a.isContextualDialogMounted};d.getNuxConfig=function(a){a=this.getComposerData(a);a=a.nuxConfig;return!a?null:a.toJS()};d.getNuxProductTypeConfig=function(a,b){a=this.getComposerData(a);a=a.nuxConfig;return!a?null:a.get(b)?a.get(b).toJS():null};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("ReactComposerAttachmentLoader",["AsyncRequest","ReactComposerAttachmentActions","ReactComposerAttachmentInitState","ReactComposerAttachmentStore","ReactComposerStore","XReactComposerLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();a={load:function(a,c,d,e){__p&&__p();var f=this,g=b("ReactComposerAttachmentStore").getAttachment(a,c);if(!g||g.initState===b("ReactComposerAttachmentInitState").INITIALIZED)return;b("ReactComposerAttachmentActions").setInitialized(a,c);this._logToODS(a,"bootload_start",c);d(function(d,e){f._logToODS(a,"bootload_done",c),b("ReactComposerAttachmentActions").setBootloaded(a,c,d,e)});this._logToODS(a,"bootstrap_start",c);new(b("AsyncRequest"))(e).setHandler(function(){f._logToODS(a,"bootstrap_done",c),setTimeout(function(){return b("ReactComposerAttachmentActions").setBootstrapped(a,c)},0)}).send()},_logToODS:function(a,c,d){c=b("XReactComposerLoggingODSController").getURIBuilder().setString("event",c).setString("attachment_type",d).setEnum("composer_type",b("ReactComposerStore").getRef(a)).getURI();new(b("AsyncRequest"))(c).send()}};e.exports=a}),null);
__d("ReactComposerAttachmentPlaceholder.react",["cx","React","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")(this.props.className,"_2nt-");return b("React").jsx("div",{className:a,children:b("React").jsx(b("XUISpinner.react"),{className:"_2nt_",size:"large"})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerAttachmentSelector.react",["cx","Image.react","Link.react","React","TooltipData","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_4-h7"+(this.props.selected?" _5qtn":""),"fbReactComposerAttachmentSelector_"+this.props.attachmentID),c="overflow";this.props.enableDisplayTooltip&&(c=null);return b("React").jsx(b("Link.react"),babelHelpers["extends"]({onClick:this.props.onSelected,className:a,role:"tab","aria-selected":this.props.selected,"data-tooltip-delay":"500","data-tooltip-display":c},b("TooltipData").propsFor(this.props.label),this.props,{children:b("React").jsxs("span",{className:"_4-fs",children:[this.props.icon?b("React").jsx(b("Image.react"),{src:this.props.icon,className:"_5qto"}):null,b("React").jsx("span",{className:"_5qtp",children:this.props.label}),b("React").jsx("span",{className:"_4-h8"})]})}))};return c}(b("React").PureComponent);c.propTypes={selected:a.bool,label:a.string.isRequired,icon:a.object,onSelected:a.func.isRequired,enableDisplayTooltip:a.bool};c.defaultProps={selected:!1,enableDisplayTooltip:!1};e.exports=c}),null);
__d("ReactComposerContextTypes",["ComposerEntryPointRef","React","getObjectValues"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports={accessToken:a.string,actorID:a.string.isRequired,appID:a.string,composerID:a.string.isRequired,composerType:a.oneOf(b("getObjectValues")(b("ComposerEntryPointRef"))).isRequired,extraConfig:a.object,gks:a.object.isRequired,targetID:a.string.isRequired,jsModules:a.object,jsResources:a.object}}),null);
__d("ReactComposerPostToGroupActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SELECT_TAB:null,UNSELECT_TAB:null,UPDATE_SELECTED_GROUP:null,CLOSE_NUX:null,LOG_EVENT:null},"ReactComposerPostToGroupActionType")}),null);
__d("XReactComposerPostToGroupLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/post_to_group/ods/",{event:{type:"String",required:!0}})}),null);
__d("ReactComposerPostToGroupStore",["AsyncRequest","ReactComposerPostToGroupActionType","ReactComposerStoreBase","XReactComposerPostToGroupLoggingODSController"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{isTabSelected:!1,selectedGroup:null,showNux:!0}},function(a){__p&&__p();switch(a.type){case b("ReactComposerPostToGroupActionType").SELECT_TAB:d&&d.$ReactComposerPostToGroupStore1(a,!0);break;case b("ReactComposerPostToGroupActionType").UNSELECT_TAB:d&&d.$ReactComposerPostToGroupStore1(a,!1);break;case b("ReactComposerPostToGroupActionType").UPDATE_SELECTED_GROUP:d&&d.$ReactComposerPostToGroupStore2(a);break;case b("ReactComposerPostToGroupActionType").CLOSE_NUX:d&&d.$ReactComposerPostToGroupStore3(a);break;case b("ReactComposerPostToGroupActionType").LOG_EVENT:d&&d.$ReactComposerPostToGroupStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getIsTabSelected=function(a){return this.getComposerData(a).isTabSelected};d.getSelectedGroup=function(a){return this.getComposerData(a).selectedGroup};d.getSelectedGroupID=function(a){a=this.getComposerData(a).selectedGroup;return a?a.getUniqueID():null};d.getShowNux=function(a){return this.getComposerData(a).showNux};d.$ReactComposerPostToGroupStore1=function(a,b){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.isTabSelected=b;this.emitChange(a)};d.$ReactComposerPostToGroupStore2=function(a){a=this.validateAction(a,["composerID","group"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedGroup=a;this.emitChange(b)};d.$ReactComposerPostToGroupStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.showNux=!1;this.emitChange(a)};d.$ReactComposerPostToGroupStore4=function(a){a=this.validateAction(a,["event"]);a=b("XReactComposerPostToGroupLoggingODSController").getURIBuilder().setString("event",a).getURI();new(b("AsyncRequest"))(a).send()};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerAttachmentSelectorContainer.react",["Arbiter","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentSelector.react","ReactComposerAttachmentStore","ReactComposerEvents","ReactComposerPostToGroupStore","ReactComposerStore","emptyFunction","ifRequired","ReactComposerContextTypes"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){__p&&__p();if(d.props.disableSelectAttachment)return;if(d.state.selected){b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(d.context.composerID,null,null,b("ReactComposerStore").getSproutSurface(d.context.composerID));return}b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(d.context.composerID)});b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,d.props.attachmentID,!0,d.props.loggingName);window.setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},0);d.props.onAfterSelected&&d.props.onAfterSelected()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerPostToGroupStore")]};c.calculateState=function(a,c,d){var e=d.composerID;a=[c.attachmentID];c.alternativeAttachmentIDs&&(a=a.concat(c.alternativeAttachmentIDs));d=a.some(function(a){return b("ReactComposerPostToGroupStore").getIsTabSelected(e)?!1:b("ReactComposerAttachmentStore").getIsAttachmentSelected(e,a)});return{selected:d}};var d=c.prototype;d.render=function(){var a=this.props.onSelected!==b("emptyFunction")?this.props.onSelected:this.$1;return b("React").jsx(b("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:a}))};return c}(b("React").PureComponent);a.defaultProps={onSelected:b("emptyFunction"),disableSelectAttachment:!1,enableDisplayTooltip:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerAsset3DComponent.react",["ix","cx","fbt","invariant","Asset3DBackgroundList","Asset3dSitevarConfig","BootloaderResource","FDSLink.react","FDSText.react","FluxContainer","Image.react","JSResource","React","ReactComposerAsset3dAttachmentActions","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","XUICloseButton.react","asset","cxMargin","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("lazyLoadComponent")(b("JSResource")("Asset3DComposerColorPicker.react").__setRef("ReactComposerAsset3DComponent.react")),l=b("lazyLoadComponent")(b("JSResource")("Asset3dFeedViewer.react").__setRef("ReactComposerAsset3DComponent.react")),m=b("lazyLoadComponent")(b("JSResource")("FDSButton.react").__setRef("ReactComposerAsset3DComponent.react")),n=522,o=b("Asset3dSitevarConfig").MINIMUM_ASPECT_RATIO,p="https://www.facebook.com/help/www/414295416095269";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$8=function(a){d.$1=a},d.$6=function(a){d.state.placeholderRef||d.setState({placeholderRef:a})},d.$7=function(){b("ReactComposerAsset3dAttachmentActions").removeAsset3D(d.props.composerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAsset3dAttachmentStore")]};c.calculateState=function(a,c,d){c=d.composerID;return{asset3dData:b("ReactComposerAsset3dAttachmentStore").getAsset3DData(c),selectedBackground:b("ReactComposerAsset3dAttachmentStore").getBackground(c),viewerWidth:a?a.viewerWidth:0,placeholderRef:a?a.placeholderRef:null,creationFailed:b("ReactComposerAsset3dAttachmentStore").getCreationFailed(c)}};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=a.asset3dInput;if(!c){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").STATUS,!0);var d=b("ReactComposerMediaUploadStore").getUploads(this.context.composerID);b("ReactComposerMediaUploadActions").removeAllPhotoUploads(this.context.composerID,d)}else{d=this.props.asset3dInput;c=!d||c.type!=d.type||c.glbFile!=d.glbFile||JSON.stringify(c.colorImageIDs)!=JSON.stringify(d.colorImageIDs)||JSON.stringify(c.depthImageIDs)!=JSON.stringify(d.depthImageIDs);c&&this.$2(a)}};d.componentDidMount=function(){b("BootloaderResource").preload(b("JSResource")("Asset3DComposerColorPicker.react").__setRef("ReactComposerAsset3DComponent.react")),b("BootloaderResource").preload(b("JSResource")("Asset3dFeedViewer.react").__setRef("ReactComposerAsset3DComponent.react")),b("BootloaderResource").preload(b("JSResource")("FDSButton.react").__setRef("ReactComposerAsset3DComponent.react")),this.props.asset3dInput&&this.state.asset3dData===null&&this.$2(this.props),this.$1!=null||j(0,14175),this.setState({viewerWidth:this.$1.clientWidth})};d.$2=function(a){b("ReactComposerAsset3dAttachmentActions").createAsset3D(a.composerID,a.actorID)};d.$3=function(){this.state.placeholderRef!=null||j(0,13553);return this.state.placeholderRef};d.$4=function(){this.props.asset3dInput||j(0,14501);var a=this.props.asset3dInput.type==="color_depth_pair";return b("React").jsxs("div",{className:"_7pe9",children:[b("React").jsx("div",{className:"_7pea"}),b("React").jsx("div",{className:"_7peb",children:a?i._("Creating a 3D Photo"):i._("Creating a 3D Post")})]})};d.$5=function(){this.props.asset3dInput||j(0,14501);var a=this.props.asset3dInput.type==="color_depth_pair",c=this.props.showContextButton?b("React").jsx("div",{children:b("React").jsx(m,{href:p,label:i._("Learn More"),size:"small"})}):null;return b("React").jsxs("div",{className:"_7pe9",children:[b("React").jsx(b("FDSText.react"),{size:"header3",color:"white",margin:"_3-96",display:"block",textAlign:"center",children:a?i._("Failed to create your 3D Photo"):i._("Failed to create your 3D Post")}),b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",margin:"_3-98",display:"inline",textAlign:"center",width:200,children:a?i._("Try again or learn more about how to create 3D Photos."):i._("Try again or learn more about how to create 3D Posts.")}),c]})};d.render=function(){__p&&__p();var a=this.props.asset3dInput;if(!a)return null;var c=a.type==="color_depth_pair",d=null;a=a.placeholderImage;if(a){var e=a.width/a.height,f={};if(e<o){e=this.state.viewerWidth/o;f={maxHeight:e+"px"}}d=b("React").jsx(b("Image.react"),{className:"_7pe8",src:a.src,style:f})}e=b("React").jsxs("div",{className:"_7pe7",style:c?{}:{height:n+"px"},ref:this.$6,children:[d,this.state.creationFailed?this.$5():this.$4()]});a=null;if(this.props.showContextButton&&c){a=(f=b("React")).jsx("div",{children:f.jsxs(b("FDSLink.react"),{href:p,margin:"_3-8y",showUnderline:"never",children:[f.jsx(b("Image.react"),{className:"_7qn1",src:g("865191")}),f.jsx("span",{children:i._("Learn more about 3D Photos")})]})})}d=this.props.showCloseButton?b("React").jsx(b("XUICloseButton.react"),{shade:"light",size:c?"large":"medium",onClick:this.$7,className:"_655z"}):null;f=b("React").jsx("div",{children:d});d=null;var h=this.state.asset3dData;if(h&&this.state.placeholderRef){var j=c?h.aspectRatio:1,m=this.state.viewerWidth,q=m/j;j<o&&(q=m/o);j=c?"photos_3d":"composer";var r=c?null:b("React").jsx(k,{composerID:this.props.composerID,backgrounds:b("Asset3DBackgroundList"),selectedBackground:this.state.selectedBackground});d=b("React").jsxs("div",{children:[b("React").jsx(l,{enableFullscreen:!1,asset3dID:h.asset3dID,glbURI:h.glbURI,compressor:h.compressor,compressionLevel:h.compressionLevel,initialViewContainer:this.$3(),composerID:this.props.composerID,background:this.state.selectedBackground,category:j,actorID:this.props.actorID,shouldSupportVR:!1,shouldUpdateFallbackImage:!c,isModal:!1,width:m,height:q}),r]})}return b("React").jsxs("div",{className:"_7pef",ref:this.$8,children:[f,e,d,a]})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerProfilePhotoBlock.react",["cx","Layout.react","ReactComposerProfilePhoto.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn;a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.onClick||b("emptyFunction");return b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(h,{className:"_q-v",children:b("React").jsx(b("ReactComposerProfilePhoto.react"),{src:this.props.profilePicSrc,profileName:this.props.profileName,profileURI:this.props.profileURI,profileDialogURI:this.props.profileDialogURI,onClick:a})}),b("React").jsx(i,{children:this.props.children})]})};return c}(b("React").PureComponent);c.propTypes={profileName:a.string,profilePicSrc:a.string.isRequired,profileURI:a.string,profileDialogURI:a.string,onClick:a.func};e.exports=c}),null);
__d("ReactComposerStatusActions",["ReactComposerDispatcher","ReactComposerStatusActionType","ReactComposerStatusStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerStatusStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.setMentionsSource=function(a,c){a={composerID:a,type:b("ReactComposerStatusActionType").SET_MENTIONS_SOURCE,mentionsSource:c};b("ReactComposerDispatcher").dispatch(a)};c.setTypeaheadReporter=function(a,c){a={composerID:a,type:b("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER,typeaheadReporter:c};b("ReactComposerDispatcher").dispatch(a)};c.setEditorState=function(a,c){a={composerID:a,type:b("ReactComposerStatusActionType").SET_EDITOR_STATE,editorState:c};b("ReactComposerDispatcher").dispatch(a)};c.setOriginalEditorState=function(a,c){a={composerID:a,type:b("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE,originalEditorState:c};b("ReactComposerDispatcher").dispatch(a)};c.setMentions=function(a,c){a={composerID:a,type:b("ReactComposerStatusActionType").SET_MENTIONS,mentions:c};b("ReactComposerDispatcher").dispatch(a)};c.setTextLength=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerStatusActionType").SET_TEXT_LENGTH,textLength:c})};c.removeEditorStateFormatting=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerStatusActionType").REMOVE_EDITOR_STATE_FORMATTING})};c.setTargetID=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerStatusActionType").SET_TARGET_ID,targetID:c})};return a}();e.exports=new a()}),null);
__d("ReactComposerLoggingActions",["ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingName","ReactComposerMediaUploadActionType","ReactComposerNestedActionDispatchTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();a={composerEntry:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_ENTRY,uiElementName:c})},mediaUploadInputClicked:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:c})},mediaUploadInputDone:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:c})},mediaFileDropped:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_INTENT,featureType:"MEDIA",uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFileDropFinished:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:"MEDIA",uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFolderDropped:function(a){new(b("ReactComposerNestedActionDispatchTypedLogger"))().setOuterActionType(b("ReactComposerActionTypes").FEATURE_INTENT).setInnerActionType(b("ReactComposerLoggingName").MEDIA_FOLDER_DROPPED).setStack(new Error().stack).log()},mediaFilePasted:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_INTENT,featureType:"MEDIA",uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_PASTED})},mediaFilePasteFinished:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:"MEDIA",uiElementName:b("ReactComposerLoggingName").MEDIA_FILE_PASTED})},sproutVisibilityUpdated:function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SPROUT_VIEW_UPDATE,visibilityMap:c,event:d,sproutsState:e,promotedSprout:f,promotionID:g})},collectionSelectorCancel:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_CANCEL,featureType:b("ReactComposerFeatureType").COLLECTIONS,uiElementName:c})},collectionSelectorDone:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").FEATURE_DONE,featureType:b("ReactComposerFeatureType").COLLECTIONS,uiElementName:c})},composerCancel:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_CANCEL})},composerNavigateAwayAttempt:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT})},composerSharesheetPostClicked:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED})}};e.exports=a}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","CurrentUser","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i={customChecks:new Map(),handler:function(c,d){__p&&__p();var e=(h||(h=b("URI"))).getMostRecentURI(),f=h.getNextURI(),g=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&d.toString()===f.toString(),j=d.toString()===e.toString()&&!Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater");e=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&e.toString()!==f.toString();(j||g||e)&&b("Run").onAfterLoad(function(){return b("Run").onBeforeUnload(function(){return i.handler(c,d)})});if(j||g||e||b("ReactComposerStore").hasPostSucceeded(c)||b("ReactComposerStore").isPublishing(c))return void 0;f=i.hasUnsavedChanges(c);if(f&&!(a.Dialog&&a.Dialog.getCurrent())){b("ReactComposerLoggingActions").composerNavigateAwayAttempt(c);j=i.getUnsavedChangesMessage(c);return b("CurrentUser").isWorkUser()?i.getUnsavedChangesMessageForWorkplace(j):j}else return void 0},addCustomCheck:function(a,b){var c=[];i.customChecks.has(a)&&(c=i.customChecks.get(a));c&&(c.push(b),i.customChecks.set(a,c))},hasUnsavedChanges:function(a){__p&&__p();var c;if(!b("ReactComposerInit").isInstanceMounted(a))return!1;c=(c=b("ReactComposerInit").instances.get(a))!=null?(c=c.props)!=null?(c=c.contextConfig)!=null?c.composerType:c:c:c;if(c==="feed_sprout_dialog"||c==="branded_content_creator_deal_view")return!1;c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIVE_BROADCAST),e=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIVING_ROOM),f=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL),g=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MLE),h=b("ReactComposerStatusStore").getTextLength(a)>0,j=c&&(b("ReactComposerMediaUploadStore").isUploading(a)||b("ReactComposerPhotoStore").isRecognizing(a)||b("ReactComposerPhotoStore").getPhotos(a).size>0);c=c&&(b("ReactComposerVideoUploadStore").isUploading(a)||b("ReactComposerVideoUploadStore").getVideo(a));var k=!b("ReactComposerTaggerStore").areAllTaggersEmpty(a),l=b("ReactComposerScrapedAttachmentStore").hasAttachment(a);a=i.customChecks.get(a);var m=!1;if(a)for(var a=a,n=Array.isArray(a),o=0,a=n?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=a.length)break;p=a[o++]}else{o=a.next();if(o.done)break;p=o.value}p=p;m=m||p()}p=h||j||c||k||l||d||e||f||m||g;return!!p},getUnsavedChangesMessage:function(a){if(b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a))return g._("Your post is still uploading. Do you want to leave without finishing the upload?");a=b("ReactComposerStore").getRef(a);switch(a){case"edit_dialog":return g._("If you discard now, you'll lose any changes you've made to this post.");default:if(b("CurrentUser").isWorkUser())return g._("If you leave now, your post won't be saved.");else return g._("You haven't finished your post yet. Do you want to leave without finishing?")}},getUnsavedChangesMessageForWorkplace:function(a){var b=g._("Finish Your Post?"),c=g._("Discard Post"),d=g._("Go To Post");return{body:a,highlightStay:!0,leaveButtonText:c,showCloseButton:!0,stayButtonText:d,title:b}},possiblyLogComposerCancelEvent:function(a){i.hasUnsavedChanges(a)&&b("ReactComposerLoggingActions").composerCancel(a)}};e.exports=i}),null);
__d("ReactComposerInputDecorator",[],(function(a,b,c,d,e,f){"use strict";e.exports={NONE:0,MENTIONS:1,RICH_TEXT:2}}),null);
__d("ReactComposerEmojiButton.react",["cx","EmojiInputButton.react","EmojiPickerActions","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusStore","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=b("ReactComposerStatusStore").getActiveEditorState(d.context.composerID),e=b("ReactComposerStatusStore").getActiveLanguageDialect(d.context.composerID);if(c===null||c===void 0)return;b("addEmojiToEditorState")(a,c,e==null?d.$3:d.$4)},d.$3=function(a){var c=0;if(a){var e=a.getCurrentContent();c=e?(h||(h=b("UnicodeUtils"))).strlen(e.getPlainText()):0;b("ReactComposerStatusStore").getEditorState(d.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(d.context.composerID,a),b("ReactComposerStatusActions").setTextLength(d.context.composerID,c))}d.props.onChange&&d.props.onChange(a)},d.$4=function(a){var c=d.context.composerID,e=b("ReactComposerStatusStore").getActiveEditorState(c),f=b("ReactComposerStatusStore").getActiveLanguageDialect(c);e!==a&&b("ifRequired")("ReactComposerMultilingualStatusActions",function(b){b.setEditorState(c,f,a)})},d.$2=function(){b("EmojiPickerActions").setSelectedCategory(0),b("ReactComposerActions").expandSprouts(d.context.composerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=(this.props.isNextToFontPicker?"":"_3nc-")+(this.props.simplifyComposerMoveEmojiButton===!0&&!this.props.isNextToFontPicker?" _77h7":""),c=(this.props.canProduceSATPWithFont?"":"_3nc_")+(this.props.canProduceSATPWithFont?" _7bcl":"")+(this.props.exceedCharacterCount?" _6-3i":""),d="_5zq9";return b("React").jsx(b("EmojiInputButton.react"),{buttonClassName:a,iconActiveClassName:d,iconClassName:c,onSelect:this.$1,onClick:this.$2,position:"below"})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerInlineMediaEntry.react",["ix","cx","fbt","FDSTooltip.react","Image.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerStore","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=62,k=i._("Add Photo\/Video");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=d.props.composerID;b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,"MEDIA",b("ReactComposerStore").getSproutSurface(a),null,b("ReactComposerLoggingName").MEDIA_INLINE_ENTRY)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.props.composerID);return a===b("ReactComposerAttachmentType").MEDIA?null:b("React").jsx("div",{className:"_7qgi",children:b("React").jsx(b("FDSTooltip.react"),{alignment:"center",offset:j,position:"below",tooltip:k,children:b("React").jsx(b("ShimButton.react"),{className:"_7r2p",onClick:this.$1,children:b("React").jsxs("div",{className:"_7qmz",children:[b("React").jsx(b("Image.react"),{className:"_7qib",src:g("676603")}),b("React").jsx("div",{className:"_7qr7"})]})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","Arbiter","MentionsInput.react","PagesComposerContextUtils","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","XUITypeaheadView.react","addEmojiInput","addTextDelightInput","ifRequired","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("PagesComposerContextUtils").getIsDraftComposer;a=b("React").PropTypes;c=b("addTextDelightInput").addTextDelightInput;var i;c?i=b("addEmojiInput")(c(b("MentionsInput.react"),"post")):i=b("addEmojiInput")(b("MentionsInput.react"));d=b("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{config:b("ReactComposerConfig"),mentionsSource:a.object,preventFocus:a.bool,typeaheadReporter:a.object,onChange:a.func,onFocus:a.func,onPasteFiles:a.func,placeholder:a.string},componentWillUnmount:function(){var a=this,c=null;b("ifRequired")("ReactComposerStatusStore",function(b){c=b.getEditorState(a.context.composerID)});var d=!1;b("ifRequired")("ComposerEntryPointRef",function(b){d=h(a.context.composerType)});d&&c!==null?this.props.onBlur&&this.props.onBlur(c):this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},UNSAFE_componentWillMount:function(){var a=this,c=new(b("SubscriptionsHandler"))();this.props.preventFocus||c.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return a.focus()}));this._subscriptions=c},componentDidCatch:function(a,b){},render:function(){var a=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[b("ReactComposerTaggerType").PEOPLE],c=a&&a.typeaheadView?a.typeaheadView:b("XUITypeaheadView.react");a=a&&a.typeaheadViewProps?a.typeaheadViewProps:{};c=Object.assign({},{ariaLabel:this.props.placeholder,ariaMultiline:!0,role:"textbox",typeaheadView:c,typeaheadViewProps:a,selectOnTab:!1,spellCheck:!0},this.props,{className:b("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return b("React").jsx(i,babelHelpers["extends"]({ref:"mentionsInput"},c,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function(){var a=this;!b("ReactComposerInit").isInstanceMounted(this.context.composerID)?b("Arbiter").subscribeOnce([b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return a.refs&&a.refs.mentionsInput&&a.refs.mentionsInput.focus()}):this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function(a,c,d){var e=this,f=this.props.typeaheadReporter;f&&(f.reportSelect(a.getUniqueID(),a.getType(),c,d.button>=0),f.sessionEnd(),f.sessionStart());a.getType()==="event"&&b("ifRequired")("ReactComposerEventAttachmentActions",function(b){return b.fetchEventAttachment(e.context.composerID,a.getUniqueID())})},_onShowMentions:function(a,b){b=this.props.typeaheadReporter;b&&b.reportResults(a.map(function(a){return a.getUniqueID()}))},_onFocus:function(){var a=this.props.typeaheadReporter;a&&a.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function(a){this.props.onChange&&this.props.onChange(a)},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd(),this.props.onBlur&&this.props.onBlur(this.props.editorState)}});e.exports=d}),null);
__d("ReactComposerPrefillActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SET_PREFILL_DATA:null},"ReactComposerPrefillActionTypes")}),null);
__d("ReactComposerPrefillStore",["invariant","ReactComposerPrefillActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{prefillConfig:{}}},function(a){switch(a.type){case b("ReactComposerPrefillActionTypes").SET_PREFILL_DATA:d&&d.$ReactComposerPrefillStore1(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getField=function(a,b){return this.$ReactComposerPrefillStore2(a,[b])};d.getAndEraseField=function(a,b){return this.getAndEraseNestedField(a,[b])};d.getAndEraseNestedField=function(a,b){var c=this;b.length>0||g(0,5563);var d=this.$ReactComposerPrefillStore2(a,b);setTimeout(function(){c.$ReactComposerPrefillStore3(a,b)},0);return d};d.$ReactComposerPrefillStore2=function(a,b){a=this.getComposerData(a).prefillConfig;for(var c=0;c<b.length;c++)a=a&&a[b[c]];return a};d.$ReactComposerPrefillStore3=function(a,b){a=this.getComposerData(a).prefillConfig;for(var c=0;c<b.length-1;c++)a=a&&a[b[c]];a!=void 0&&(a[b[b.length-1]]=null)};d.$ReactComposerPrefillStore1=function(a){a=this.validateAction(a,["composerID","prefillConfig"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.prefillConfig=a||{}};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerStickerContainer.react",["Arbiter","JSResource","React","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("ReactComposerStickerComponent.react").__setRef("ReactComposerStickerContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(d.props.composerID,["taggersData",b("ReactComposerTaggerType").STICKER]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(d.props.composerID,b("ReactComposerTaggerType").STICKER,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!(this.props.sticker&&this.props.sticker.stickerID)?null:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(g,{sticker:this.props.sticker,composerID:this.props.composerID})})};d.UNSAFE_componentWillMount=function(){this.$2(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cssVar","cx","Arbiter","Keys","React","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEmojiButton.react","ReactComposerEvents","ReactComposerInlineMediaEntry.react","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer.react","ReactComposerTaggerStore","SubscriptionsHandler","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","getDefaultKeyBinding","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={CODE:{backgroundColor:"#e9ebee",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"90%",padding:"1px 4px"}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var b=/^image\//;a=a.filter(function(a){return b.test(a.type)});if(a.length>0&&d.props.onPasteFiles){d.props.onPasteFiles(a);return!0}return!1},d.$3=function(a,c){c=b("UserAgent_DEPRECATED").osx()?a.metaKey:a.ctrlKey;if(a.keyCode===b("Keys").RETURN&&c){d.blur();window.setTimeout(d.props.onPostIntent,0);return!0}return!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.context&&this.context.composerID&&this.props.useRichTextEditor&&b("Arbiter").inform(b("ReactComposerEvents").RICH_TEXT_EDITOR_MOUNTED+this.context.composerID);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").HIGHLIGHT_TOP_COMPOSER],function(){return a.focus()}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){__p&&__p();var a=this.props.config&&this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=null;if(this.props.useRichTextEditor){var d=a.richTextEditor;c=b("React").jsx(d,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_3w8y _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _n7q":"")),canAttachVideo:!1,canAttachPhoto:!1,canAttachEmbed:!1,customStyleMap:i,onSave:b("emptyFunction"),spellCheck:!0,autoCorrect:!1,handlePastedFiles:this.$2,handleContentReturn:this.$3,keyBindingFn:this.props.disableLinkAndMonoFormatting?b("getDefaultKeyBinding"):b("getCampfireKeyBinding"),ref:"mentionsInput"}))}else c=b("React").jsx(b("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(a&&a.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _3t-3":"")+(a&&a.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")+(this.props.exceedCharacterCount?" _6zdn":"")+(this.props.exceedCharacterCount&&(b("ReactComposerTaggerStore").getNumberOfWithWhoTags(this.props.compositionID)>0||b("ReactComposerTaggerStore").hasMinutiae(this.props.compositionID))?" _6-3h":"")+(this.props.sticker&&this.props.sticker.stickerID&&(this.props.editorState&&this.props.editorState.getCurrentContent().getPlainText().trim().length===0||this.props.shouldUseLargeText)?" _4vlg":"")+(this.props.showInlineMediaEntry?" _7qmn":"")+(this.props.showInlineMediaEntry&&this.props.useDialogInlineMediaStyle?" _7wjo":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$2,handleContentReturn:this.$3}));d=this.props.simplifyComposerMoveEmojiButton||this.props.hideEmojiButtonBeforeFocus?null:b("React").jsx(b("ReactComposerEmojiButton.react"),{exceedCharacterCount:this.props.exceedCharacterCount,onChange:this.props.onChange,canProduceSATPWithFont:this.props.canProduceSATPWithFont,simplifyComposerMoveEmojiButton:this.props.simplifyComposerMoveEmojiButton});a=b("React").jsx(b("ReactComposerStickerContainer.react"),{sticker:this.props.sticker,composerID:this.props.compositionID});var e=this.props.showInlineMediaEntry&&b("React").jsx(b("ReactComposerInlineMediaEntry.react"),{composerID:this.context.composerID});return b("React").jsxs("div",{className:"_3nd0",children:[a,c,e,d]})};d.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};d.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerAttachmentActionType","ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerScrapedAttachmentStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.enabled=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:c};b("ReactComposerDispatcher").dispatch(a)};c.setScrapedAttachment=function(a,c,d,e,f,g,h){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,sourceLoggingName:e,postConfirmationDialog:f,hasDisputedWarning:g,breakingNewsConfig:h};b("ReactComposerDispatcher").dispatch(a)};c.clearScrapedAttachment=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED,sourceLoggingName:c};b("ReactComposerDispatcher").dispatch(a)};c.clearSpinner=function(a){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CLEAR_SPINNER};b("ReactComposerDispatcher").dispatch(a)};c.setScrapedAttachmentWithoutLogging=function(a,c,d,e,f){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:c,attachmentConfig:d,suppressWaterfallLogging:!0,postConfirmationDialog:e,hasDisputedWarning:f};b("ReactComposerDispatcher").dispatch(a)};c.setPermissiveMatch=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:c};b("ReactComposerDispatcher").dispatch(a)};c.scrapeAttachment=function(a,c,d,e,f,g,h){h===void 0&&(h=!1);a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:c,value:d,entryPoint:e,actorID:f,sourceLoggingName:g,isFilePicker:h};b("ReactComposerDispatcher").dispatch(a)};c.setShareAttachment=function(a,c,d,e,f,g){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:c,actorID:d,shareType:e,shareParams:f,isFbPhotoShare:g};b("ReactComposerDispatcher").dispatch(a)};c.uploadImagesForCarousel=function(a){a={composerID:a.composerID,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:a.targetID,scrapeUrl:a.scrapeUrl,carouselParams:a.carouselParams,entryPoint:a.entryPoint,actorID:a.actorID};b("ReactComposerDispatcher").dispatch(a)};c.linkTitleEdited=function(a,c,d){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};c.linkDescriptionEdited=function(a,c,d){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED,index:c,value:d};b("ReactComposerDispatcher").dispatch(a)};c.setNoImagePreviewEdit=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED,index:c};b("ReactComposerDispatcher").dispatch(a)};c.setBreakingConfig=function(a,c){a={composerID:a,type:b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET,breakingNewsConfig:c};b("ReactComposerDispatcher").dispatch(a)};c.setIsContentMultiShareAttachment=function(a,c){a={composerID:a,type:b("ReactComposerAttachmentActionType").SET_CONTENT_MULTI_SHARE,isContentMultiShareAttachment:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ImplicitLink.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("span",{"data-offset-key":this.props.offsetKey,className:"_2ou",spellCheck:!1,children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("getRichTextInputDecorator",["requireCond","CompositeDraftDecorator","EmojiSpan.react","EmoticonSpan.react","HashtagSpan.react","ImplicitLink.react","MentionSpan.react","RichTextEditorLink.react","WeakMentionSpan.react","cr:830759","getEntityMatcher","getHashtagMatches","cr:830762","getImplicitURLMatches"],(function(a,b,c,d,e,f){__p&&__p();var g;function a(a){__p&&__p();if(!g){var c;c=[{strategy:(c=b("getEntityMatcher"))(function(a){var b=a.getData();return a.getType()==="MENTION"&&b&&b.isWeak}),component:b("WeakMentionSpan.react")},{strategy:c(function(a){return a.getType()==="MENTION"}),component:b("MentionSpan.react")},{strategy:c(function(a){return a.getType()==="EMOTICON"}),component:b("EmoticonSpan.react")},{strategy:b("getHashtagMatches"),component:b("HashtagSpan.react")},{strategy:c(function(a){return a.getType()==="EMOJI"}),component:b("EmojiSpan.react")}];a!==!0&&c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="LINK"}),component:b("RichTextEditorLink.react")},{strategy:b("getImplicitURLMatches"),component:b("ImplicitLink.react")});b("cr:830759")!==null&&c.push({strategy:b("cr:830759"),component:b("ImplicitLink.react")});b("cr:830762")!==null&&c.push({strategy:b("cr:830762"),component:b("ImplicitLink.react")});g=new(b("CompositeDraftDecorator"))(c)}return g}e.exports=a}),null);
__d("getReactComposerEmojiInputDecorator",["EmojiInputDecorator","EmojiSpan.react","ReactComposerInputDecorator","getMentionsInputDecorator","getRichTextInputDecorator","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";a=b("memoizeWithArgs")(function(a,c,d){var e=null;a===b("ReactComposerInputDecorator").RICH_TEXT?e=b("getRichTextInputDecorator")(d):a===b("ReactComposerInputDecorator").MENTIONS&&(e=b("getMentionsInputDecorator")());c&&(e=new(b("EmojiInputDecorator"))(b("EmojiSpan.react"),e,{size:c}));return e},function(a,b){return!b?"#"+a:a+"_"+b});e.exports=a}),null);
__d("getReactComposerTextDelightInputDecorator",["EditorState","React","ReactComposerStatusActions","ReactComposerStatusStore","TextDelightInputDecorator","TextDelightSpan.react","getEntityMatcher","memoizeByReference"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("ReactComposerStatusStore").getEditorState(a.funnelKey);c&&b("ReactComposerStatusActions").setEditorState(a.funnelKey,b("EditorState").create({currentContent:c.getCurrentContent(),decorator:c.getDecorator(),selection:c.getSelection()}))}a=b("memoizeByReference")(function(a){return new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"&&a.getData().surface==="post"}),component:function(a){return b("React").jsx(b("TextDelightSpan.react"),babelHelpers["extends"]({},a,{onXOut:g}))}},a)});e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["fbt","Arbiter","Bootloader","EditorState","FDSText.react","LitestandStoryInsertionStatus","PagesComposerNuxStore","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerOptimisticPostingActions","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerSproutsDisplayState","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleNUXMessage","SimpleNUXMessageTypes","TextDelightInComposerGating","UnicodeUtils","URLMatcher","URLScraper","XUIAmbientNUX.react","getReactComposerEmojiInputDecorator","getReactComposerTextDelightInputDecorator","ifRequired","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j=null,k=function(a,c){var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(d===b("ReactComposerAttachmentType").LIVE_VIDEO||d===b("ReactComposerAttachmentType").SELL||d===b("ReactComposerAttachmentType").GROUP_MEET_UP||b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUNDRAISER))return!1;d=c&&c.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];c=b("ReactComposerTaggerStore").hasMarkdown(a);return!!(d&&d.richTextEditor&&!c)},l=function(a){a=a&&a.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];return(a==null?void 0:a.disableLinkAndMonoFormatting)==!0},m=function(a){a=a&&a.actorConfig;return(a==null?void 0:a.shouldShowFormattedPostNux)==!0};a=b("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:void 0,_pendingEditorStateUpdateFromMount:void 0,_storyInsertionBlocker:void 0,_prefillSubscription:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"),b("PagesComposerNuxStore"))],getDefaultProps:function(){return{mentionsEnabled:!0}},getInitialState:function(){return{isFocused:!1,hasShownLinkPostNux:!1}},statics:{calculateState:function(a,c,d){__p&&__p();d=b("ReactComposerStatusStore").getEditorState(a);var e=c.config&&c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],f=!1,g=b("ReactComposerStatusStore").getTextLength(a),j=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),n=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a),o=k(a,c.config),p=l(c.config),q=m(c.config),r=b("ReactComposerInputDecorator").NONE;c.mentionsEnabled&&(r=e&&e.richTextEditor?b("ReactComposerInputDecorator").RICH_TEXT:b("ReactComposerInputDecorator").MENTIONS);if(e&&e.largeTextThreshold&&b("ReactComposerMediaUploadStore").getUploadsCount(a)===0&&!b("ReactComposerScrapedAttachmentStore").hasAttachment(a)&&!b("ReactComposerTaggerStore").hasExplicitLocation(a)&&!b("ReactComposerTaggerStore").hasMarkdown(a)&&b("ReactComposerMinutiaeAttachmentStore").getMarkup(a)===null&&n!==b("ReactComposerAttachmentType").FIND_PLAYERS&&n!==b("ReactComposerAttachmentType").SELL&&n!==b("ReactComposerAttachmentType").IG_PHOTO_REMINDER){if(!g&&d){var s=d.getCurrentContent();g=(h||(h=b("UnicodeUtils"))).strlen(s.getPlainText())}s=c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;(s&&s.length<=e.LargePlaceholderTextThreshold&&g===0&&j||g!==0&&g<=e.largeTextThreshold)&&(f=!0);b("ifRequired")("ReactComposerFormattedTextStore",function(d){d=d.getSelectedIndex(a);d!=null&&d>-1&&(f=!0,r=c.mentionsEnabled?b("ReactComposerInputDecorator").MENTIONS:b("ReactComposerInputDecorator").NONE,o=!1)})}s=b("getReactComposerEmojiInputDecorator")(r,f&&!o?28:16,l(c.config));s=b("getReactComposerTextDelightInputDecorator")(s);d?d.getDecorator()!==s?(j=b("EditorState").set(d,{decorator:s}),b("ReactComposerStatusActions").setEditorState(a,j)):j=d:(j=b("EditorState").createEmpty(s),b("ReactComposerStatusActions").setEditorState(a,j));g=b("ReactComposerStatusStore").getMessageText(a);return{activeEditorState:b("ReactComposerStatusStore").getActiveEditorState(a),editorState:j,isSelectedAttachmentActive:b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),mentionsSource:c.mentionsEnabled?b("ReactComposerStatusStore").getMentionsSource(a):null,posting:b("ReactComposerStore").isPosting(a),typeaheadReporter:b("ReactComposerStatusStore").getTypeaheadReporter(a),shouldUseLargeText:f,selectedSticker:b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").STICKER),useRichText:o,disableLinkAndMonoFormatting:p,shouldShowFormattingNux:q,exceedCharacterCount:b("ReactComposerTaggerEligibilityUtils").exceedSATPCharacterCountOrExceedNewLinesCount(a,c),atMentionSearchSource:e&&e.bootstrapData?e.bootstrapData.mentionsSource:b("ReactComposerStatusStore").getMentionsSource(a),shouldShowLinkPostWarningNux:(b("ReactComposerStore").getSproutsDisplayState(a)===b("ReactComposerSproutsDisplayState").EXPANDED||b("ReactComposerFocusStore").isComposerFocused(a))&&!b("ReactComposerStore").isPosting(a)&&g.trim().split(" ").length===1&&g.trim().split("\n").length===1&&!(i||(i=b("isEmpty")))(b("ReactComposerStatusUtils").validateUrl(b("URLScraper").match(g)||b("URLMatcher").permissiveMatch(g)))&&n===b("ReactComposerAttachmentType").STATUS}}},UNSAFE_componentWillMount:function(){var a=this;this.props.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=b("LitestandStoryInsertionStatus").registerBlocker(function(){return b("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(a.context.composerID)||a.state.isFocused})},componentDidMount:function(){var a=this,c=b("ReactComposerStatusStore").getEditorState(this.context.composerID);this.state.editorState!==c&&(this._pendingEditorStateUpdateFromMount=c,this.setState({editorState:c},function(){a._pendingEditorStateUpdateFromMount=void 0}));this._rerenderSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){a.setState({editorState:b("ReactComposerStatusStore").getEditorState(a.context.composerID)})})},UNSAFE_componentWillReceiveProps:function(a){this.props.mentionsSource!==a.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,a.mentionsSource);if(a.editorState===null){a=b("EditorState").createEmpty(b("getReactComposerEmojiInputDecorator")(b("ReactComposerInputDecorator").MENTIONS));b("ReactComposerStatusActions").setEditorState(this.context.composerID,a);this.setState({editorState:a})}},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null,this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe(),this._storyInsertionBlocker=null,this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function(){var a,c,d,e=this,f=this.context.gks.showLinkPostWarning&&this.context.gks.showLinkPostWarningTooltip&&this.refs&&this.refs.mentionsInput?b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return e.refs.mentionsInput},offsetY:-13,onCloseButtonClick:this._onCloseButtonClick,position:"below",shown:this.state.shouldShowLinkPostWarningNux&&!this.state.hasShownLinkPostNux,useDarkMode:!0,width:"wide",children:b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",children:g._("Add text to help people understand the link you're sharing.")})}):null;d=((d=this.props)!=null?(d=d.config)!=null?(d=d.loggingConfig)!=null?d.composerSourceSurface:d:d:d)==="page"&&this.context.gks.showInlineMediaIcon;c=((c=this.props)!=null?(c=c.config)!=null?(c=c.loggingConfig)!=null?c.composerSourceSurface:c:c:c)==="page"&&!!((c=this.context)!=null?(c=c.gks)!=null?c.showInlineDialogExperience:c:c)&&!!((c=this.context)!=null?(c=c.gks)!=null?c.isDialogComposer:c:c);a=((a=this.props)!=null?(a=a.config)!=null?(a=a.loggingConfig)!=null?a.composerSourceSurface:a:a:a)==="page"&&!!((a=this.context)!=null?(a=a.gks)!=null?a.showInlineDialogExperience:a:a)&&!((a=this.context)!=null?(a=a.gks)!=null?a.isDialogComposer:a:a);return b("React").jsxs("div",{children:[b("React").jsx(b("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{className:this.props.className,activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,delightFunnelID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,disableLinkAndMonoFormatting:this.state.disableLinkAndMonoFormatting,shouldShowFormattingNux:this.state.shouldShowFormattingNux,sticker:this.state.selectedSticker,exceedCharacterCount:this.state.exceedCharacterCount,simplifyComposerMoveEmojiButton:this.props.simplifyComposerMoveEmojiButton,canProduceSATPWithFont:this.props.canProduceSATPWithFont,showInlineMediaEntry:d,useDialogInlineMediaStyle:c,hideEmojiButtonBeforeFocus:a})),f]})},_onCloseButtonClick:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_SHARING_LINK_POST_WARNING_NUX),this.setState({shouldShowLinkPostWarningNux:!1})},focus:function(){var a=this;this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();this._pendingEditorStateUpdateFromMount!==void 0&&this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return a.refs&&a.refs.mentionsInput&&a.refs.mentionsInput.focus()})},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onFocus:function(){b("Arbiter").inform(b("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID),b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.state.atMentionSearchSource),this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus()},_onChange:function(a){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==void 0)return;var c=0;if(a){var d=a.getCurrentContent();c=d?(h||(h=b("UnicodeUtils"))).strlen(d.getPlainText()):0;c>0&&b("TextDelightInComposerGating").isEnabled("post")&&(j?a=j.applyTextDelightEntity(a,b("ReactComposerStatusStore").getEditorState(this.context.composerID),this.context.composerID,"post"):b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){j=a},"ReactComposerStatusAttachmentMentionsInputContainer.react"));b("ReactComposerStatusStore").getEditorState(this.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),b("ReactComposerStatusActions").setTextLength(this.context.composerID,c))}this._handleMarkdownChange(a);this.props.onChange&&this.props.onChange(a);this.setState({editorState:a})},_handleMarkdownChange:function(a){var c=this.props.config?this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]:null;b("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,c?c.markdownPreviewAttachment:null,a)},_onBlur:function(a){a instanceof b("EditorState")&&b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur(a)},_onPostIntent:function(){this.context.gks.optimisticPosting?b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID):b("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});e.exports=a}),null);
__d("ReactComposerStatusMentionsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getMentionsFromEditorState:function(a){__p&&__p();var b=a.getCurrentContent(),c={};b.getBlockMap().forEach(function(a){__p&&__p();var d=a.getText();a.findEntityRanges(function(){return!0},function(e,f){var g=a.getEntityAt(e);if(!g)return;g=b.getEntity(g);if(g.getType()!=="MENTION"||g.getData().type!=="user")return;var h=g.getData().id;c[h]={type:"user",uid:h,text:d.slice(e,f),isWeak:g.getData().isWeak}})});return c}};e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","ReactComposerStatusMentionsUtils","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],render:function(){var a=b("joinClasses")(this.props.className,"_395");return b("React").jsx(b("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:a,onChange:this._onChange,ref:"mentionsInput"}))},focus:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},insertEmoji:function(a){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(a)},_onChange:function(a){b("ReactComposerStatusActions").setMentions(this.context.composerID,b("ReactComposerStatusMentionsUtils").getMentionsFromEditorState(a)),this.props.onChange&&this.props.onChange(a)}});e.exports=a}),null);
__d("BootloadedReactComposerFundraiserTaggerButton.react",["BootloadedComponent.react","JSResource","React","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return((c=a)!=null?(c=c.taggersConfig)!=null?(c=c[b("ReactComposerTaggerType").FUNDRAISER])!=null?c.enabled:c:c:c)?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFundraiserTaggerButton.react").__setRef("BootloadedReactComposerFundraiserTaggerButton.react"),bootloadPlaceholder:b("React").jsx("div",{}),source:a.source}):null}e.exports=a}),null);
__d("BootloadedReactComposerFundraiserTaggerContainer.react",["BootloadedComponent.react","JSResource","React","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";function a(a){return((a=a)!=null?(a=a.taggersConfig)!=null?(a=a[b("ReactComposerTaggerType").FUNDRAISER])!=null?a.enabled:a:a:a)?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFundraiserTaggerContainer.react").__setRef("BootloadedReactComposerFundraiserTaggerContainer.react"),bootloadPlaceholder:b("React").jsx("div",{})}):null}e.exports=a}),null);
__d("ReactComposerTaggerButton.react",["cx","AlignmentEnum","React","Tooltip.react","TooltipLink.react","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerTaggerButton",propTypes:{taggerID:a.string.isRequired,title:a.string,tooltip:a.string,selected:a.bool,hasData:a.bool,onSelect:a.func,suppressTaggerLink:a.bool,toolTipAlignH:b("AlignmentEnum").propType},getDefaultProps:function(){return{title:null,tooltip:null,selected:!1,hasData:!1,onSelect:b("emptyFunction"),suppressTaggerLink:!1,toolTipAlignH:null}},render:function(){var a="_3xem"+(this.props.selected?" _50hx":""),c=b("joinClasses")("_2vwi"+(this.props.hasData?" _6xe":""),this.props.className),d=this.props.suppressTaggerLink?b("Tooltip.react"):b("TooltipLink.react");return b("React").jsxs(d,{onClick:this._onSelect,"data-testid":"testid-"+this.props.taggerID,tooltip:this.props.tooltip,className:a,href:"#",alignH:this.props.toolTipAlignH,role:"button",children:[b("React").jsx("span",{className:"accessible_elem",children:this.props.title}),b("React").jsx("div",{className:c}),this.props.children]})},_onSelect:function(){this.props.onSelect&&this.props.onSelect(this.props.taggerID)}});e.exports=c}),null);
__d("ReactComposerTaggerButtonMixin",["cx","invariant","BootloaderResource","JSResource","React","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"))],statics:{calculateState:function(a,c){var d=(c=b("ReactComposerTaggerStore")).getSelectedTagger(a);return{selected:d===this.taggerID,hasData:c.hasData(a,this.taggerID),showNUX:c.shouldShowNUX(a,this.taggerID),showTooltip:c.shouldShowTooltip(a,this.taggerID),shouldHide:c.isDisabled(a,this.taggerID)}}},UNSAFE_componentWillMount:function(){this.constructor.taggerID||h(0,954)},render:function(){if(this.state.shouldHide)return null;this.constructor.taggerID==="PRODUCT"&&this.state.selected&&!this.state.hasData&&this._logProductTagClick();var a=this.getTooltopAlignH?this.getTooltopAlignH():null,c=this.getRef?this.getRef():"";return b("React").jsx("div",{className:"uiContextualLayerParent",style:{display:"inline-block"},children:b("React").jsxs(b("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:c,onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink,toolTipAlignH:a},this.state,{children:[this.getNUX&&this.getNUX(),this.props.children]}))})},_onSelect:function(){this._onSelectX&&this._onSelectX(),this.constructor.unselectable!==!0&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},_logProductTagClick:function(){var a=b("BootloaderResource").read(b("JSResource")("ProductTaggingCreatorTypedLogger").__setRef("ReactComposerTaggerButtonMixin")),c=b("BootloaderResource").read(b("JSResource")("ProductTaggingCreationWaterfallLoggerEvent").__setRef("ReactComposerTaggerButtonMixin"));new a().setEvent(c.ACTN_PRODUCT_TAG_CREATION_VIDEO_AND_PHOTO_EDIT_COMPOSER).setCreatorID(this.context.targetID).setPostID(this.props.postID).log()}};e.exports=a}),null);
__d("DummySearchSource",["AbstractSearchSource","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.sessionStart=b("emptyFunction");c.sessionEnd=b("emptyFunction");return c}var d=c.prototype;d.searchImpl=function(a,b,c){b([],a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("TypeaheadMetricCounter",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.reset()}var b=a.prototype;b.reset=function(){this.stats={},this.avgStats={}};b.recordStat=function(a,b){this.stats[a]=b};b.recordCountStat=function(a){var b=this.stats[a];this.stats[a]=b?b+1:1};b.recordAvgStat=function(a,b){this.avgStats[a]?(this.avgStats[a][0]+=b,this.avgStats[a][1]+=1):this.avgStats[a]=[b,1]};b.hasStats=function(){return!!Object.keys(this.stats).length};b.getStats=function(){var a=babelHelpers["extends"]({},this.stats);for(var b in this.avgStats){var c=this.avgStats[b];a[b]=c[0]/c[1]}return a};return a}();e.exports=a}),null);
__d("TypeaheadMetricReporter",["AsyncRequest","QueriesHistory","Random","TypeaheadMetricCounter","mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g="/ajax/typeahead/record_basic_metrics.php",h=1e3;a=function(){"use strict";__p&&__p();function a(a){this.counter=new(b("TypeaheadMetricCounter"))(),this.extraData=Object.assign({},a),this.bootstrapped=!1,this.bootstrapBegin=Date.now(),this.queriesHistory=new(b("QueriesHistory"))(h),this.lastQuery=null,this.sessionActive=!1,this.$1()}var c=a.prototype;c.getSID=function(){return this.sid};c.sessionStart=function(){this.sessionActive=!0,this.sessionStartTime=Date.now()};c.sessionEnd=function(){this.sessionActive&&(this.$2(),this.$1(),this.sessionActive=!1)};c.setAdditionalStats=function(a){var b=this;a&&Object.entries(a).forEach(function(a){var c=a[0];a=a[1];b.counter.recordStat(c,a)})};c.sessionPause=function(a){this.sessionActive&&(this.setAdditionalStats(a),this.$2(),this.sessionActive=!1)};c.sessionDeactivate=function(){this.sessionActive=!1};c.reportSelect=function(a,b,c,d,e,f){e=e==null?this.lastQuery:e;this.counter.recordStat("selected_id",a||"SELECT_NULL");this.counter.recordStat("selected_type",b);this.counter.recordStat("selected_position",c);this.counter.recordStat("selected_with_mouse",d?1:0);this.counter.recordStat("selected_query",e);for(var g in f)this.counter.recordStat(g,f[g])};c.reportStrategyName=function(a){this.counter.recordStat("strategy_name",a)};c.reportBootstrapBegin=function(){this.bootstrapBegin=Date.now()};c.reportBootstrapDirty=function(){this.bootstrapped=!1};c.reportBootstrapComplete=function(a){this.counter.recordAvgStat("bootstrap_latency",Date.now()-this.bootstrapBegin);var b={};a.forEach(function(a){b[a]=(b[a]||0)+1});this.counter.recordStat("bootstrap_response_types",b);this.bootstrapped=!0};c.reportQueryBegin=function(a){this.counter.recordStat("query",a),this.counter.recordCountStat("num_queries"),this.queriesHistory.add(a),this.lastNotBackspacedQuery.indexOf(a)!==0&&(this.lastNotBackspacedQuery=a),this.lastQuery=a,this.lastQueryTime=Date.now()};c.reportRequestID=function(a){this.lastRequestID=a,this.requestIDHistory.push(a)};c.reportQueryComplete=function(a,b){this.counter.recordAvgStat("avg_query_latency",a),b!==void 0&&this.counter.recordStat("filtered_count",b)};c.reportResults=function(a,b){this.results=a,b===this.lastQuery&&this.counter.recordStat("last_query_latency",Date.now()-this.lastQueryTime)};c.reportResultsAds=function(a){this.resultsAds=a};c.$1=function(){this.sid=Math.floor(Date.now()*b("Random").random()),this.lastNotBackspacedQuery="",this.queriesHistory.reset(),this.results=null,this.resultsAds=null,this.lastRequestID=null,this.requestIDHistory=[],this.counter.reset(),this.emit&&this.emit("reset",{sid:this.sid})};c.$3=function(){var a={};for(var b in this.extraData){var c=this.extraData[b];a[b]=typeof c==="function"?c():c}return a};c.$2=function(){__p&&__p();if(this.counter.hasStats()){this.counter.recordStat("session_time",Date.now()-this.sessionStartTime);this.results&&this.counter.recordStat("candidate_results",JSON.stringify(this.results));this.resultsAds&&this.counter.recordStat("candidate_results_ads",JSON.stringify(this.resultsAds));this.sid&&this.counter.recordStat("sid",this.sid);this.lastNotBackspacedQuery&&this.counter.recordStat("last_not_backspaced_query",this.lastNotBackspacedQuery);this.counter.recordStat("queries_history",JSON.stringify(this.queriesHistory.getQueries()));this.bootstrapped&&this.counter.recordStat("bootstrapped",1);this.lastRequestID&&this.counter.recordStat("request_id",this.lastRequestID);this.requestIDHistory.length&&this.counter.recordStat("request_ids",this.requestIDHistory);var a=babelHelpers["extends"]({},this.counter.getStats(),this.$3());new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData({stats:a}).send();this.emit&&this.emit("submitted",a)}};return a}();b("mixInEventEmitter")(a,{reset:!0,submitted:!0});e.exports=a}),null);
__d("RegexMatchSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){var e;e=a.call(this)||this;e.$RegexMatchSearchSource2=new RegExp(b);e.$RegexMatchSearchSource3=c||"";e.$RegexMatchSearchSource1=d||{};return e}var d=c.prototype;d.searchImpl=function(a,c,d){if(a&&this.$RegexMatchSearchSource2.test(a)){d=new(b("SearchableEntry"))({uniqueID:a,title:a,type:this.$RegexMatchSearchSource3,auxiliaryData:babelHelpers["extends"]({},this.$RegexMatchSearchSource1,{isRegexEntry:!0})});c([d],a);return}c([],a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:!0},location_id:{type:"String",required:!0},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{isEnabled:!1,isFetching:!1,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:!1,sourceAttachment:null}},function(a){__p&&__p();switch(a.type){case b("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:d&&d.$ReactComposerLocationAttachmentStore1(a);break;case b("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:d&&d.$ReactComposerLocationAttachmentStore2(a);break;case b("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:d&&d.$ReactComposerLocationAttachmentStore3(a);break;case b("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:d&&d.$ReactComposerLocationAttachmentStore4(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerLocationAttachmentStore5(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.isEnabled=function(a){return this.getComposerData(a).isEnabled};d.getMarkup=function(a){return this.getComposerData(a).markup};d.getMinutiaeTaggedPlace=function(a){return this.getComposerData(a).minutiaeTaggedPlace};d.getIsTimeline=function(a){return this.getComposerData(a).isTimeline};d.isFetching=function(a){return this.getComposerData(a).isFetching};d.$ReactComposerLocationAttachmentStore1=function(a){a=this.validateAction(a,["composerID","enabled"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.isEnabled=a};d.$ReactComposerLocationAttachmentStore2=function(a){__p&&__p();var c=this;a=this.validateAction(a,["composerID","locationID","targetID"]);var d=a[0],e=a[1];a=a[2];if(!this.isEnabled(d))return;var f=this.getComposerData(d);f.isFetching=!0;e=b("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",d).setString("location_id",e).setString("target_id",a).getURI();f.pendingRequest=new(b("AsyncRequest"))(e).setFinallyHandler(function(){f.isFetching=!1,f.pendingRequest=null,c.emitChange(d)});f.pendingRequest.send();this.emitChange(d)};d.$ReactComposerLocationAttachmentStore3=function(a){a=this.validateAction(a,["composerID","objectID","isTimeline"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.minutiaeTaggedPlace=c;d.isTimeline=a;this.emitChange(b)};d.$ReactComposerLocationAttachmentStore4=function(a){a=this.validateAction(a,["composerID","markup"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.markup=a;d.sourceAttachment=b("ReactComposerAttachmentStore").getSelectedAttachmentID(c);this.emitChange(c)};d.$ReactComposerLocationAttachmentStore5=function(a){var c=this.validateAction(a,["composerID","id"]),d=c[0];c=c[1];var e=this.getComposerData(d);if(c===b("ReactComposerAttachmentType").STATUS||a.proxiedAttachmentID===e.sourceAttachment||e.sourceAttachment===null)return;e.markup=null;e.isFetching=!1;e.pendingRequest&&e.pendingRequest.abandon();this.emitChange(d)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerLocationAttachmentStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.enabled=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:c})};c.fetchLocationAttachment=function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:c,targetID:d})};c.setMinutiaeActionContext=function(a,c,d){a={composerID:a,type:b("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:c,isTimeline:d};b("ReactComposerDispatcher").dispatch(a)};c.setMarkup=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:c})};return a}();e.exports=new a()}),null);
__d("ReactComposerMinutiaeAttachmentActions",["ReactComposerDispatcher","ReactComposerMinutiaeAttachmentActionType","ReactComposerMinutiaeAttachmentStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerMinutiaeAttachmentStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.fetchMinutiaeAttachment=function(a,c,d,e,f,g){a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT,actionID:c,objectID:d,targetID:e,actorID:f,isTimeline:g};b("ReactComposerDispatcher").dispatch(a)};c.setExplicitLocation=function(a,c){a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION,explicitLocation:c};b("ReactComposerDispatcher").dispatch(a)};c.setMarkup=function(a,c){a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP,markup:c};b("ReactComposerDispatcher").dispatch(a)};c.setHideAttachment=function(a,c){a={composerID:a,type:b("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ReactComposerTaggerContainerStateMixin",["invariant","Arbiter","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=function(){__p&&__p();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return{_prefillSubscription:void 0,mixins:[b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,c.concat([b("ReactComposerTaggerStore")]))],statics:{beforeCalculateInitialState:function(a,c){var d=c.taggerConfig&&c.taggerConfig.defaultData;if(d){var e=b("ReactComposerTaggerStore").getTaggerData(a,this.taggerID);(h||(h=b("isEmpty")))(e)&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,this.taggerID,d)}c.taggerSource&&b("ReactComposerTaggerActions").setTaggerSource(a,this.taggerID,c.taggerSource)},calculateState:function(a,c){var d=(c=b("ReactComposerTaggerStore")).getSelectedTagger(a),e=c.getAutoFocusOnSelectedTagger(a),f=c.getTaggerData(a,this.taggerID);c=c.getTaggerSource(a,this.taggerID);a=d===this.taggerID;return{autoFocus:e,isSelected:a,taggerData:f,taggerSource:c}}},UNSAFE_componentWillMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this.constructor.taggerID||g(0,4299)},componentDidUpdate:function(a,b){if(this.__onTaggerDataChanged){a=Object.keys(b.taggerData).length===0&&Object.keys(this.state.taggerData).length>0;b=Object.keys(b.taggerData).length>0&&Object.keys(this.state.taggerData).length===0;(a||b)&&this.__onTaggerDataChanged(this.state.taggerData)}},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null},_handlePrefill:function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a)}}};e.exports=a}),null);
__d("ReactKeyPressHandler.react",["Event","React","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactKeyPressHandler",propTypes:{onKeyDownEvent:a.func.isRequired},getInitialState:function(){return{subscriptions:new(b("SubscriptionsHandler"))()}},componentDidMount:function(){var a=this;this.state.subscriptions.engage();this.state.subscriptions.addSubscriptions(b("Event").listen(document.body,"keydown",function(b){a.props.onKeyDownEvent&&a.props.onKeyDownEvent(b)}))},componentWillUnmount:function(){this.state.subscriptions&&this.state.subscriptions.release()},render:function(){return this.props.children}});e.exports=c}),null);
__d("ReactComposerTaggerHideOnEscapeKeyPress.react",["Keys","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerTaggerActions","ReactKeyPressHandler.react"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerTaggerHideOnEscapeKeyPress",contextTypes:b("ReactComposerContextTypes"),propTypes:{shouldHideOnEscape:a.bool},render:function(){return this.props.shouldHideOnEscape?b("React").jsx(b("ReactKeyPressHandler.react"),{onKeyDownEvent:this._onKeyDownEvent,children:this.props.children}):this.props.children},_onKeyDownEvent:function(a){a.keyCode===b("Keys").ESC&&(a.stopPropagation(),b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,b("ReactComposerLoggingName").ESCAPE_KEY))}});e.exports=c}),null);
__d("ReactComposerTaggerContainerMixin",["invariant","React","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react"],(function(a,b,c,d,e,f,g){a=function(){return{mixins:[b("ReactComposerTaggerContainerStateMixin").apply(void 0,arguments)],UNSAFE_componentWillMount:function(){this.constructor.taggerComponent||g(0,5691)},render:function(){if(!this.state.isSelected)return b("React").jsx("noscript",{});var a=this.constructor.taggerComponent,c=this.constructor.enableHideOnEscape&&this.state.isSelected;return b("React").jsx("div",{"data-testid":this.constructor.webDriverTestID,children:b("React").jsx(b("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:c,children:b("React").jsx(a,babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,composerID:(c=this.context)==null?void 0:c.composerID,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged}))})})},_onTaggerDataChanged:function(a){this._suppressUpdateLogging&&this._suppressUpdateLogging(a)?b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a):b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,a),this.__onTaggerDataChanged&&this.__onTaggerDataChanged(a),this.props.onSelect&&this.props.onSelect(a)}}};e.exports=a}),null);
__d("ReactComposerAlbumTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g,h){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerAlbumTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],propTypes:{hasData:a.bool},statics:{taggerID:b("ReactComposerTaggerType").ALBUM,loggingName:b("ReactComposerLoggingName").ALBUM_TAGGER,suppressTaggerLink:!0},getTitle:function(){return h._("Add your post to an album")},getTooltip:function(){return h._("Pick an album")},getClassName:function(){return"_3c57"+(this.props.hasData?" _6xe":"")}});e.exports=c}),null);
__d("ReactComposerAlbumTaggerButtonContainer.react",["FluxContainer","React","ReactComposerAlbumTaggerButton.react","ReactComposerAudienceStore","ReactComposerContextTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c,d){a=b("ReactComposerAudienceStore").getCollectionID(d.composerID);return{hasSelectedAlbum:a!==null}};c.getStores=function(){return[b("ReactComposerAudienceStore")]};var d=c.prototype;d.render=function(){return b("React").jsx(b("ReactComposerAlbumTaggerButton.react"),{hasData:this.state.hasSelectedAlbum})};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerAudienceSelector.react",["cx","DOM","PrivacySelector","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1.5,i=20,j=500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=i,c.$2=null,c.$3=null,c.state={loading:c.props.viewerIsTarget},c.$8=function(a,b){c.$4||c.props.onChange(b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$4=!1,this.$5()};d.componentWillUnmount=function(){this.$4=!0,this.$2&&clearTimeout(this.$2),this.$3&&clearTimeout(this.$3)};d.componentDidUpdate=function(a,b){this.props.audienceXHP!==a.audienceXHP&&this.$5()};d.render=function(){return b("React").jsx("div",{ref:"audienceSelector",onClick:function(a){return a.stopPropagation()},className:b("joinClasses")("_5dd8"+(this.state.loading?" _2hio":""),this.props.className)})};d.$5=function(){this.props.viewerIsTarget&&this.$6(),this.refs&&this.refs.audienceSelector?b("DOM").setContent(b("ReactDOM").findDOMNode(this.refs.audienceSelector),this.props.audienceXHP):this.$7()};d.$7=function(){var a=this;this.$3=setTimeout(function(){a.refs&&a.refs.audienceSelector?b("DOM").setContent(b("ReactDOM").findDOMNode(a.refs.audienceSelector),a.props.audienceXHP):a.$7()},100)};d.$6=function(){var a=this;this.$2=setTimeout(function(){var c=b("PrivacySelector").getAdamaSelectorInstance(a.props.audienceXHP);c?(c.subscribe("changed",a.$8),a.setState({loading:!1})):(a.$1=Math.min(a.$1*h,j),a.$6())},this.$1)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XReactComposerCollectionSelectorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/collections/selector/",{spaces_aware:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerCollectionsStore",["AsyncRequest","LoadObject","ReactComposerActionStore","ReactComposerCollectionsActionTypes","XReactComposerCollectionSelectorController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{collectionsLoadObject:null,isSelectorVisible:!1}},function(a){switch(a.type){case b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:d&&d.$ReactComposerCollectionsStore1(a);break;case b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:d&&d.$ReactComposerCollectionsStore2(a);break;case b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:d&&d.$ReactComposerCollectionsStore3(a);break;case b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:d&&d.$ReactComposerCollectionsStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.loadCollections=function(a){var c=this,d=this.getComposerData(a);d.collectionsLoadObject=b("LoadObject").loading();d=b("XReactComposerCollectionSelectorController").getURIBuilder().setBool("spaces_aware",!0).getURI();new(b("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).setHandler(function(d){var b=c.getComposerData(a);d={albums:d.payload.albums};b.collectionsLoadObject=b.collectionsLoadObject.setValue(d).done();c.emitChange(a)}).send()};d.addNewAlbum=function(a,b){this.$ReactComposerCollectionsStore5(a,b)};d.$ReactComposerCollectionsStore5=function(a,b){__p&&__p();var c=this.getCollections(a);if(!c||!c.isDone())return;c=c.getValue();if(c==null)return;c=c.albums;c||(c=[]);c.unshift(b);this.emitChange(a)};d.getCollections=function(a){a=this.getComposerData(a);return a.collectionsLoadObject};d.getCollectionByID=function(a,b){a=this.getComposerData(a);a=a.collectionsLoadObject;if(!a||!a.isDone())return null;a=a.getValue();return a.albums&&a.albums.find(function(a){return a.id===b})};d.isSelectorVisible=function(a){a=this.getComposerData(a);return a.isSelectorVisible};d.$ReactComposerCollectionsStore1=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.collectionsLoadObject||this.loadCollections(a);b.isSelectorVisible=!0;this.emitChange(a)};d.$ReactComposerCollectionsStore2=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isSelectorVisible=!1;this.emitChange(a)};d.isCreationLayerVisible=function(a){a=this.getComposerData(a);return a.isCreationLayerVisible};d.$ReactComposerCollectionsStore3=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isCreationLayerVisible=!0;this.emitChange(a)};d.$ReactComposerCollectionsStore4=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isCreationLayerVisible=!1;this.emitChange(a)};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("ReactComposerAudienceSelectorContainer.react",["csx","cx","fbt","invariant","Arbiter","BackgroundImage.react","CSS","DOM","FluxContainer","PrivacyConst","PrivacySelector","React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerAudienceSelector.react","ReactComposerAudienceStore","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","TooltipData","XUIPopoverButton.react","ifRequired"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c)||this;e.$1=null;e.$3=function(a){var c=b("DOM").scry(e.props.audienceXHP,"._401v").pop();if(c){var d=e.$4(parseInt(a.post_param,10));d=i._("Shared with {privacyString}",[i._param("privacyString",d)]);c.setAttribute("aria-label",d)}b("ReactComposerAudienceActions").setAudience(e.context.composerID,a.post_param,a.privacy_base,b("ReactComposerLoggingName").AUDIENCE_SELECTOR);e.props.onAudienceChanged&&e.props.onAudienceChanged()};e.$2=function(){var a=b("ReactComposerPrefillStore").getField(e.context.composerID,"albumData");a&&a.albumID&&(b("ReactComposerCollectionsStore").loadCollections(e.context.composerID),b("ReactComposerAudienceActions").setCollectionIDWithoutLogging(e.context.composerID,a.albumID))};e.beforeCalculateInitialState(d.composerID,c,d);return e}var d=c.prototype;d.beforeCalculateInitialState=function(a,c,d){__p&&__p();var e=c.audienceXHP,f,g=b("PrivacySelector").getAdamaSelectorInstance(e);b("ReactComposerAudienceActions").setAudienceElement(a,c.audienceXHP);b("ReactComposerAudienceActions").setAudienceInstance(a,g);if(!e||!c.viewerIsTarget)return;g&&(f=g.getPostParam());var h;g||(h=b("DOM").scry(e,'select option[selected="1"]').pop());if(!g&&!h){c=b("DOM").scry(e,'input[name="privacyx"]')[0]||b("DOM").scry(e,'input[name="privacy[0]"]')[0];c&&(f=c.value)}!!(f||h)||b("PrivacySelector").isFakeOrUneditableSelector(e)||d.actorID||j(0,3205);b("ReactComposerAudienceActions").setAudienceWithoutLogging(a,f,h?h.value:null)};c.getStores=function(){var a=[b("ReactComposerAttachmentStore"),b("ReactComposerAudienceStore"),b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"),b("ReactComposerCollectionsStore")];b("ifRequired")("ReactComposerListStore",function(b){a.push(b)});return a};c.calculateState=function(a,c,d){__p&&__p();var e=d.composerID;if(!c.ignoreCollectionAudience){a=b("ReactComposerAudienceStore").getCollectionID(e);if(a){d=b("ReactComposerCollectionsStore").getCollectionByID(e,a)||b("ReactComposerPrefillStore").getField(e,"albumData");if(d)return{collectionPrivacyIcon:d.privacyIcon,collectionPrivacyLabel:d.privacyLabel,collectionOwnerName:d.ownerName}}}var f=b("ReactComposerStatusStore").getMentions(e);a=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,b("ReactComposerAttachmentType").LIST);a&&b("ifRequired")("ReactComposerListStore",function(a){a=a.getAllListMentions(e);f=Object.assign(a,f)});d=b("ReactComposerTaggerStore").getTaggerData(e,b("ReactComposerTaggerType").PEOPLE)||[];var g=d.map(function(a){return{info:{type:a.getType(),uid:a.getUniqueID(),text:a.getTitle()}}});a=b("CSS").matchesSelector(c.audienceXHP,"._43_1")?c.audienceXHP:b("DOM").scry(c.audienceXHP,"._43_1")[0];a!=null&&b("PrivacySelector").genAndThen(a,function(a){a.informTagsChanged({withTags:g,mention:f})});return{collectionPrivacyIcon:null,collectionPrivacyLabel:null,collectionOwnerName:null}};d.UNSAFE_componentWillMount=function(){this.$2(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){if(this.state.collectionPrivacyIcon&&this.state.collectionPrivacyLabel){var a=this.state.collectionOwnerName?i._("{albumOwnerName} set who can see what's posted in this album",[i._param("albumOwnerName",this.state.collectionOwnerName)]):null;a=b("React").jsx(b("XUIPopoverButton.react"),babelHelpers["extends"]({className:"_5dd8",disabled:!0,image:b("React").jsx(b("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_3byx",height:12,src:this.state.collectionPrivacyIcon,width:12}),label:this.state.collectionPrivacyLabel},b("TooltipData").propsFor(a)));return a}else return b("React").jsx(b("ReactComposerAudienceSelector.react"),babelHelpers["extends"]({},this.props,{onChange:this.$3}))};d.$4=function(a){var c=Object.keys(b("PrivacyConst").PostParam);for(var d=0;d<c.length;d++){var e=c[d];if(b("PrivacyConst").PostParam[e]===a)return e.replace("_"," ").toLowerCase()}return""};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerGetShowtimesTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerGetShowtimesTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{loggingName:b("ReactComposerLoggingName").GET_SHOWTIMES_TAGGER,taggerID:b("ReactComposerTaggerType").GET_SHOWTIMES,selected:!0},propTypes:{externalMovieID:a.string,moviePageID:a.string,reactComposerID:a.string.isRequired},getTitle:function(){return h._("Add a button so people can say they're interested or see showtimes")},getTooltip:function(){return h._("Add a button so people can say they're interested or see showtimes")},getClassName:function(){return"_6r3f"},_onSelectX:function(){var a=this.state.selected?{should_remove:!0}:{external_movie_id:this.props.externalMovieID,movie_page_id:this.props.moviePageID};b("ReactComposerTaggerActions").setTaggerData(this.props.reactComposerID,b("ReactComposerLoggingName").GET_SHOWTIMES_TAGGER,b("ReactComposerTaggerType").GET_SHOWTIMES,a)}});e.exports=c}),null);
__d("ReactComposerImplicitLocationComponent.react",["cx","React","XUICloseButton.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerImplicitLocationComponent",propTypes:{caption:a.string.isRequired,hasExplicitLocation:a.bool,onClear:a.func},defaultProps:{onClear:b("emptyFunction")},render:function(){if(!this.props.caption)return b("React").jsx("noscript",{});var a=this.props.hasExplicitLocation?null:b("React").jsx(b("XUICloseButton.react"),{className:"_3s32",size:"small",onClick:this._onClear}),c="_3s33"+(this.props.hasExplicitLocation?" _3s34":"");return b("React").jsxs("span",{className:c,children:[b("React").jsx("span",{children:this.props.caption.split(",")[0]}),a]})},_onClear:function(a){a.stopPropagation(),this.props.onClear&&this.props.onClear()}});e.exports=c}),null);
__d("ReactComposerImplicitLocationContainer.react",["AsyncRequest","React","ReactComposerImplicitLocationComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","URI"],(function(a,b,c,d,e,f){__p&&__p();var g;a=b("React").createClass({displayName:"ReactComposerImplicitLocationContainer",mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"))],statics:{calculateState:function(a,c){c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION)||{};a=c.implicitLocation||{};return{caption:a.citystring,hasExplicitLocation:!!c.place}}},render:function(){return!this.state.caption?b("React").jsx("noscript",{}):b("React").jsx(b("ReactComposerImplicitLocationComponent.react"),babelHelpers["extends"]({},this.state,{onClear:this._onClear}))},_onClear:function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.context.composerID,b("ReactComposerTaggerType").LOCATION)||{};a.implicitLocation=null;b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,b("ReactComposerTaggerType").LOCATION,a);a=new(g||(g=b("URI")))("/ajax/places/toggle_location_sharing").addQueryData({disable:1,session_id:a.sessionID});new(b("AsyncRequest"))(a).send()}});e.exports=a}),null);
__d("ReactComposerMediaFilePickerController.react",["fbt","Bootloader","CurrentUser","FileInput.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){b("ReactComposerAttachmentActions").initializeAttachment(d.context.composerID,b("ReactComposerAttachmentType").MEDIA),b("Bootloader").loadModules(["ReactComposerLoggingActions"],function(a){a.mediaUploadInputClicked(d.context.composerID,d.props.loggingName)},"ReactComposerMediaFilePickerController.react"),d.props.onClick&&d.props.onClick(a)},d.$2=function(a){__p&&__p();a.persist&&a.persist();var c=d.refs.fileInput.getFileInput();if(!d.$4(c.input.files)){b("Bootloader").loadModules(["Dialog"],function(a){var d=g._("Invalid file type"),e;c.input.files.length&&c.input.files[0].type?e=g._("{file type} is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:",[g._param("file type",c.input.files[0].type)]):e=g._("The file you selected is not allowed, please upload an image (JPG, PNG, GIF or TIFF) or a video type listed here:");var f;b("CurrentUser").isWorkUser()?f=new(h||(h=b("URI")))().setProtocol("https").setDomain(document.location.hostname).setPath("/help/work/885144448260143").toString():f="https://www.facebook.com/help/218673814818907";var i=g._("What video file formats can I upload?");i=typeof i==="string"?i.replace(/\"/g,"&#39;"):"";i='<a href="'+f+'" title="'+i+'" target="_blank">'+f+"</a>";new a().setTitle(d).setButtons(a.OK).setBody(e.toString()+" "+i).setSemiModal(!0).show()},"ReactComposerMediaFilePickerController.react");d.props.onFilesSelected&&d.props.onFilesSelected(!1);return}b("Bootloader").loadModules(["ReactComposerPhotoUploader","ReactComposerMediaUtils","ReactComposerLoggingActions"],function(e,f,g){var h=f.handleSpecialMediaUpload(a,c,d.props.mediaConfig,d.context);d.props.onFilesSelected&&d.props.onFilesSelected(h);if(!h){e=new e(d.context,d.props.photoLimit,{disableFaceRecognition:d.props.disableFaceRecognition});!b("ReactComposerAttachmentStore").getIsAttachmentSelected(d.context.composerID,b("ReactComposerAttachmentType").MEDIA)&&!b("ReactComposerAttachmentStore").getIsAttachmentSelected(d.context.composerID,b("ReactComposerAttachmentType").TASK)&&b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,d.props.loggingName);f.uploadPhotosOrVideoFromTarget(d.context.composerID,a.target,e,d.props.targetData.targetSupportsMultiplePhotos,d.props.targetData.targetSupportsMultiMedia)}g.mediaUploadInputDone(d.context.composerID,d.props.loggingName);f.clearInput(c,!h)},"ReactComposerMediaFilePickerController.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("FileInput.react"),{"aria-label":g._("Add Photo or Video"),accept:this.$1(),containerClassName:this.props.containerClassName,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:"composer_photo[]",display:this.props.display,onChange:this.$2,onClick:this.$3,ref:"fileInput",role:"button",tabIndex:"0","data-testid":this.props.webDriverTestID,children:this.props.children})};d.$1=function(){if(this.props.mediaAcceptParam)if(this.props.mediaType=="VIDEO")return this.props.mediaAcceptParam.videos;else if(this.props.mediaType=="PHOTO")return this.props.mediaAcceptParam.photos;else return this.props.mediaAcceptParam.both;return null};d.$4=function(a){if(!(this.props.mediaAcceptParam&&this.props.mediaAcceptParam.both))return!0;var b=this.props.mediaAcceptParam.both.replace(/,\s*/g,"|").replace(/\*/g,".*");b="^("+b+")$";b=new RegExp(b,"i");for(var c=0;c<a.length;++c)if(a[c].type&&!b.test(a[c].type))return!1;return!0};return c}(b("React").PureComponent);a.defaultProps={disableFaceRecognition:!1,display:"inline"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ComposerDestinationsLoggingUtils",["ComposerXMarauderLogger","ReactComposerAudienceMessengerTypes","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logComposerDestinationsBottomSheetOpened:function(a){this._log("composer_destinations_bottom_sheet_opened",a)},logComposerDestinationsMyStoryToggled:function(a){this._log("composer_destinations_my_story_toggled",a)},logComposerDestinationsNewsFeedToggled:function(a){this._log("composer_destinations_news_feed_toggled",a)},logComposerDestinationsInstagramToggled:function(a){this._log("composer_destinations_instagram_toggled",a)},logComposerDestinationsAdsPePostToggled:function(a){this._log("composer_destinations_ads_pe_post_toggled",a)},logComposerDestinationsSubmitClicked:function(a){this._log("composer_destinations_submit_clicked",a)},logComposerDestinationsMessengerSearchOpened:function(a){this._log("composer_destinations_messenger_search_opened",a)},logComposerDestinationsMessengerGroupCreationOpened:function(a){this._log("composer_destinations_messenger_group_creation_intent_opened",a)},logComposerDestinationsMessengerGroupCreationFinished:function(a){this._log("composer_destinations_messenger_group_creation_intent_finished",a)},logComposerDestinationsMessengerThreadToggled:function(a,c,d,e,f,g){b("ComposerXMarauderLogger").logEvent("composer_destinations_messenger_thread_toggled".toLowerCase(),a,{extraData:{composer_session_id:c,new_value:d,thread_id:e,thread_type:f,position:g}})},_log:function(a,c){var d,e=(d=b("ReactComposerAudienceStore")).getSelectedMessengerRecipientEntries(c);d={is_eligible_for_messenger:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(c),is_my_story_selected:d.getStoriesSelected(c),is_ads_pe_post_selected:d.getAdsPePostSelected(c),is_news_feed_selected:d.getTimelineSelected(c),is_instagram_selected:d.getInstagramSelected(c),thread_ids:{individual:e.get(b("ReactComposerAudienceMessengerTypes").INDIVIDUAL),existing_group:e.get(b("ReactComposerAudienceMessengerTypes").EXISTING_GROUP),new_group:e.parseNewMessengerGroups().map(function(a){return{users:a}}).toJS()}};e=b("ReactComposerStore").getComposerData(c);var f=e.actorID;e=e.isActorAPage;e&&(d=babelHelpers["extends"]({},d,{posting_as_page_id:f}));b("ComposerXMarauderLogger").logEvent(a.toLowerCase(),c,{extraData:d})}};e.exports=a}),null);
__d("ReactComposerFormattedTextCategoryUnit.react",["ix","cx","Grid.react","Image.react","Link.react","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,b){this.props.onSelectInCategorizedFormatTray&&this.props.onSelectInCategorizedFormatTray(a,b)};d.$2=function(){return b("React").jsx(b("XUIText.react"),{className:"_3j7x",weight:"bold",children:this.props.categoryName})};d.$3=function(){var a=[];for(var c=0;c<this.props.textFormats.length;c++){var d=null;this.props.noSproutDesign&&(d={opacity:1,position:"relative"});var e=!!this.props.textFormats[c].keyframesAnimation;d=b("React").jsx(i,{style:d,className:this.props.noSproutDesign?"_4ydj":"",children:b("React").jsx("div",{className:c===this.props.selectedIndex&&this.props.categoryName===this.props.selectedCategory?"_4ydk":"",children:b("React").jsxs(b("Link.react"),{href:"#",onClick:c===this.props.selectedIndex&&this.props.categoryName===this.props.selectedCategory?null:this.$1.bind(this,c,this.props.categoryName),children:[b("React").jsx("div",{className:"_1u45"+(c===this.props.selectedIndex&&this.props.categoryName===this.props.selectedCategory?" _1u48":""),style:this.props.textFormats[c].swatchStyle}),e&&b("React").jsx(b("Image.react"),{src:g("502466"),className:"_1m8d"})]})})},c+1);a.push(d)}return a};d.render=function(){return b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("Grid.react"),{cols:c.CATEGORY_COLUMN_WIDTH,className:"_1u4b"+(this.props.noSproutDesign?" _2j7c":""),children:this.$3()})]})};return c}(b("React").PureComponent);c.CATEGORY_COLUMN_WIDTH=5;c.DEFAULT_SWATCH_SIZE=72;c.propTypes={categoryName:a.string.isRequired,noSproutDesign:a.bool,onSelectInCategorizedFormatTray:a.func.isRequired,selectedCategory:a.string,selectedIndex:a.number,suppressTransition:a.bool,textFormats:a.arrayOf(a.object).isRequired};e.exports=c}),null);
__d("ReactComposerFormattedTextTrayComponent.react",["cx","fbt","LayerAutoFocus","React","ReactComposerFormattedTextCategoryUnit.react","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.$2();return b("React").jsxs(b("XUIContextualDialog.react"),{alignment:this.props.alignment||"right",behaviors:{LayerAutoFocus:b("LayerAutoFocus")},contextRef:this.props.contextRef,hasActionableContext:!0,position:"below",shown:this.props.trayShown,width:c.TRAY_WIDTH,children:[b("React").jsx("div",{className:"_rys",children:h._("Choose a background")}),b("React").jsx("div",{className:"_ryt"}),b("React").jsx("div",{style:{height:c.TRAY_HEIGHT,overflow:"auto"},children:a})]})};d.$2=function(){var a=[];for(var c=0;c<this.props.categorizedTextFormatPresets.length;c++){var d=this.props.categorizedTextFormatPresets[c];d=b("React").jsx(b("ReactComposerFormattedTextCategoryUnit.react"),{categoryName:d.categoryName,noSproutDesign:this.props.noSproutDesign,onSelectInCategorizedFormatTray:this.props.onSelectInCategorizedFormatTray,selectedCategory:this.props.selectedCategory,selectedIndex:this.props.selectedIndex,suppressTransition:this.props.suppressTransition,textFormats:d.textFormats},c);a.push(d)}return a};d.render=function(){return b("React").jsx("div",{children:this.$1()})};return c}(b("React").PureComponent);c.NO_BG_COLOR=-1;c.DEFAULT_SWATCH_SIZE=28;c.TRAY_WIDTH=380;c.TRAY_HEIGHT=400;c.propTypes={categorizedTextFormatPresets:a.arrayOf(a.object).isRequired,contextRef:a.func.isRequired,noSproutDesign:a.bool,onSelectInCategorizedFormatTray:a.func.isRequired,selectedCategory:a.string,selectedIndex:a.number,trayShown:a.bool};e.exports=c}),null);
__d("ReactComposerFormattedTextPickerComponent.react",["ix","cx","fbt","ClickableAreaButton.react","Grid.react","ReactComposerFormattedTextTrayComponent.react","Image.react","Link.react","Locale","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Grid.react").GridItem;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){this.props.onSelect&&this.props.onSelect(a)};d.$2=function(a,d){var e=c.DEFAULT_SWATCH_SIZE,f=e;e=this.props.collapsed?-e:(a+1)*f;d===!0&&(e+=c.WIDTH_OF_STYLE_BUTTON+c.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH);b("Locale").isRTL()&&(e=-e);return e};d.$3=function(a){return 0};d.$4=function(){__p&&__p();var a=[],d=null,e=this.props.collapsed?.01:1,f=this.props.disableNoBgColor?0:c.NO_BG_COLOR,h=this.props.categorizedTrayEnabled?c.DEFAULT_SWATCH_SIZE:0,k=this.props.textFormats.length,l=this.props.inlineEmojiPicker?this.props.composerBodyWidth-c.DEFAULT_SWATCH_SIZE:this.props.composerBodyWidth;for(var f=f;f<this.props.textFormats.length;f++){var m=f===this.props.selectedIndex&&!this.props.selectedCategory;if(this.props.noSproutDesign){var n=this.props.disableNoBgColor?this.$2(f-1):this.$2(f),o=this.$3(f);d={opacity:e,transform:"translate("+n+"px, "+o+"px)"};if(h+2*c.DEFAULT_SWATCH_SIZE+n>=l){k=f;break}}o=f!==c.NO_BG_COLOR&&!!this.props.textFormats[f].keyframesAnimation;n=this.props.textFormats[f]?this.props.textFormats[f].accessibilityLabel+(f===this.props.selectedIndex?i._(", selected"):""):"";n=b("React").jsx(j,{style:d,className:this.props.noSproutDesign?"_4ydj":"",children:b("React").jsx("div",{className:m?"_4ydk":"",children:b("React").jsxs(b("Link.react"),{tabIndex:this.props.collapsed?-1:null,href:"#","aria-label":f===c.NO_BG_COLOR?i._("No background"):n,onClick:f===this.props.selectedIndex?null:this.$1.bind(this,f),children:[b("React").jsx("div",{className:"_2j78"+(m?" _4ydl":"")+(f===c.NO_BG_COLOR?" _23ju":"")+(this.props.collapsed?" _4vb-":""),style:f===c.NO_BG_COLOR?null:this.props.textFormats[f].swatchStyle}),o?b("React").jsx(b("Image.react"),{src:g("497826"),className:"_3mwi"}):null]})})},f+2);a.push(n)}if(this.props.categorizedTrayEnabled){m=this.$2(k);d={opacity:e,transform:"translateX("+m+"px)"};o=this.$5(d);a.push(o)}return a};d.$5=function(a){return b("React").jsx(j,{className:this.props.noSproutDesign?"_4ydj":"",style:a,children:b("React").jsx("div",{className:"_2j78"+(this.props.collapsed?" _4vb-":""),ref:"trayButton",children:b("React").jsx(b("Image.react"),{className:"_3ov1",src:g("479024"),onClick:this.props.onTrayToggle})})},this.props.textFormats.length+2)};d.$6=function(){var a=this;return b("React").jsx(b("ReactComposerFormattedTextTrayComponent.react"),{categorizedTextFormatPresets:this.props.categorizedTextFormatPresets,contextRef:function(){return a.refs.trayButton},noSproutDesign:this.props.noSproutDesign,onSelectInCategorizedFormatTray:this.props.onSelectInCategorizedFormatTray,selectedCategory:this.props.selectedCategory,selectedIndex:this.props.selectedIndex,trayShown:this.props.trayShown})};d.$7=function(){return b("React").jsx(j,{className:(this.props.noSproutDesign?"_469m":"")+" _w4h",children:b("React").jsx(b("ClickableAreaButton.react"),{onClick:this.props.onToggle,label:this.props.collapsed?i._("Show background options"):i._("Hide background options"),children:b("React").jsx("div",{className:"_4vc1"+(this.props.collapsed?" _2j7a":""),children:b("React").jsx("div",{className:this.props.collapsed?"":"_2j7b"})})})},0)};d.render=function(){var a=this.props.noSproutDesign?this.$7():null,c=this.$4(),d=this.$6(),e=c.length;a!=null&&e++;this.props.categorizedTrayEnabled&&e++;return b("React").jsxs("div",{className:this.props.selectedIndex!==-1?"_6ze2":"",children:[b("React").jsxs(b("Grid.react"),{cols:e,className:"_4ukb"+(this.props.suppressTransition?" _3oia":"")+(this.props.hidden?" _akr":"")+(this.props.noSproutDesign?" _2j7c":""),children:[a,c]}),d]},"grid")};return c}(b("React").Component);c.NO_BG_COLOR=-1;c.DEFAULT_SWATCH_SIZE=28;c.EMOJI_PICKER_SIZE=24;c.EXTRA_PADDING_FOR_LARGER_SELECTED_SWATCH=8;c.WIDTH_OF_STYLE_BUTTON=130;c.MAGNIFIED_SWATCH_SIZE=36;c.DEFAULT_COMPOSER_WIDTH=500;c.FontTextFormat={collectionName:a.object,textFormats:a.arrayOf(a.object)};c.propTypes={categorizedTextFormatPresets:a.arrayOf(a.object),categorizedTrayEnabled:a.bool,collapsed:a.bool,composerBodyWidth:a.number,disableNoBgColor:a.bool,hidden:a.bool,noSproutDesign:a.bool,onSelect:a.func.isRequired,onSelectInCategorizedFormatTray:a.func.isRequired,onToggle:a.func,onTrayToggle:a.func,selectedCategory:a.string,selectedIndex:a.number,suppressTransition:a.bool,textFormats:a.arrayOf(a.object).isRequired,trayShown:a.bool,inlineEmojiPicker:a.bool,exceedCharacterCount:a.bool,onChange:a.func,putEmojiPickerBySATPSelector:a.bool};e.exports=c}),null);
__d("ReactComposerPostButton.react",["cx","fbt","React","XUIButton.react","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getButtonSize=function(){return"medium"};var d=c.prototype;d.render=function(){var a=this.props.disabled&&(this.props.isPosting||!!this.props.isRunningInterception)&&!this.props.hideSpinner,c=b("React").jsx("div",{className:"_2ph- _6q3h"+(a?" _6q3i":""),children:b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"small"})});a=b("React").jsx("span",{className:a?"_5gm9":"",children:this.props.label});var d=this.props.isMediaUploading&&!this.props.timelineSelected||this.props.disabled,e=this.props.showPagesComposerFooterRedesign?"_805t":b("joinClasses")("_1mf7",this.props.className);this.props.showBoostedPostBtnInFooter&&(e=this.props.className);var f=this.props.useDefaultButton===!0&&!this.props.showPagesComposerFooterRedesign?"default":"confirm",g=this.props.showPagesComposerFooterRedesign?"large":"medium";return b("React").jsx(b("XUIButton.react"),{className:e,disabled:d,label:a,image:c,onClick:this.props.onClick,use:f,size:g,"data-testid":"react-composer-post-button"})};return c}(b("React").PureComponent);c.propTypes={className:a.string,config:a.object,disabled:a.bool,onClick:a.func,label:a.string,isPosting:a.bool,isMediaUploading:a.bool,timelineSelected:a.bool,hideSpinner:a.bool,useDefaultButton:a.bool,isRunningInterception:a.bool,showPagesComposerFooterRedesign:a.bool};c.defaultProps={disabled:!1,label:h._("Post"),useDefaultPostButton:!1};e.exports=c}),null);
__d("ReactComposerAsset3dAttachment.react",["fbt","FluxContainer","React","ReactComposerAsset3dAttachmentStore","ReactComposerAsset3DComponent.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLazyProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerStatusFooterContainer.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ReactComposerAsset3dAttachmentStore")]};c.calculateState=function(a,c,d){return{asset3dInput:b("ReactComposerAsset3dAttachmentStore").getAsset3DInput(d.composerID)}};var d=c.prototype;d.$1=function(){var a=this.state.asset3dInput&&this.state.asset3dInput.type=="color_depth_pair";return a?g._("Say something about this 3D Photo..."):g._("Say something about this 3D Post...")};d.render=function(){var a,c=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],d=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").ASSET_3D],e=this.props;return(a=b("React")).jsxs("div",{children:[a.jsx(b("ReactComposerLazyProfilePhotoBlock.react"),{config:this.props.config,profilePicSrc:c.profilePicSrc,profileURI:c.profileURI,useVoiceSwitcher:!1,children:a.jsx(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,placeholder:this.$1()})}),a.jsx(a.Suspense,{fallback:null,loading:null,children:a.jsx(b("ReactComposerAsset3DComponent.react"),{composerID:this.context.composerID,actorID:this.context.actorID,asset3dInput:this.state.asset3dInput,showCloseButton:d&&d.showCloseButton!==void 0?d.showCloseButton:!0,showContextButton:d&&d.showContextButton!==void 0?d.showContextButton:!0})}),b("React").jsx(b("ReactComposerStatusFooterContainer.react"),babelHelpers["extends"]({},e,{attachmentsConfig:e.config.attachmentsConfig,audienceXHP:e.config.audienceXHP,config:e.config,isCameraIconEnabled:!1,mediaAcceptParam:e.config.mediaAcceptParam,taggersConfig:e.config.taggersConfig,targetData:e.config.targetData}))]})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withProps:!0,withContext:!0})}),null);
__d("ReactComposerAsset3dEagerAttachment.react",["React","ReactComposerAsset3dAttachment.react","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerAsset3dEagerAttachment",mixins:[b("ReactComposerAttachmentBodyMixin")()],propTypes:{config:b("ReactComposerConfig").isRequired,selected:a.bool},statics:{attachmentID:b("ReactComposerAttachmentType").ASSET_3D},renderX:function(){return b("React").jsx(b("ReactComposerAsset3dAttachment.react"),babelHelpers["extends"]({},this.props))}});e.exports=c}),null);
__d("ReactComposerHeaderType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NONE:"NONE",DEFAULT:"DEFAULT",SHARESHEET:"SHARESHEET",SHARING_SPACES:"SHARING_SPACES"});e.exports=a}),null);
__d("ReactComposerSproutsSelector.react",["cx","React","ReactComposerAttachmentSelectorContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("span",{"data-testid":this.props.dataTestID,className:"_sg1",children:b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:this.props.attachmentID,label:this.props.label,icon:this.props.icon,loggingName:this.props.loggingName,alternativeAttachmentIDs:this.props.alternativeAttachmentIDs,onSelected:this.props.onSelected,onAfterSelected:this.props.onAfterSelected})})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerDocAttachmentSelector.react",["ix","AsyncRequest","Bootloader","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutsSelector.react","URI","asset"],(function(a,b,c,d,e,f,g){var h;a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerDocAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{isInMoreButton:a.bool,label:a.node.isRequired,createDocCampfireURI:a.string,createDocFallbackURI:a.string.isRequired,sprouts:a.bool},render:function(){return this.props.sprouts?b("React").jsx(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").DOC,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:g("651656"),label:this.props.label,onSelected:this._onSelected}):b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").DOC,label:this.props.label,icon:g("85214"),"data-testid":"create-doc-attachment-selector",onSelected:this._onSelected,loggingName:b("ReactComposerLoggingName").DOC_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0})},_onSelected:function(){var a=this;this.props.createDocCampfireURI?b("Bootloader").loadModules(["AsyncDialog"],function(c){var d=new(b("AsyncRequest"))(a.props.createDocCampfireURI).setMethod("POST").setStatusElement(a.context.composerID);c.send(d)},"ReactComposerDocAttachmentSelector.react"):new(h||(h=b("URI")))(this.props.createDocFallbackURI).go()}});e.exports=c}),null);
__d("ReactComposerLoadableAttachmentBodyMixin",["cx","invariant","React","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentInitState","ReactComposerAttachmentLoader","ReactComposerAttachmentPlaceholder.react","ReactComposerAttachmentStore","ReactComposerStore"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={mixins:[b("ReactComposerAttachmentBodyMixin")(b("ReactComposerAttachmentStore"))],statics:{calculateAttachmentState:function(a,c){c=b("ReactComposerAttachmentStore").getAttachment(a,this.attachmentID);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,this.attachmentID);a=b("ReactComposerStore").isActive(a);return{composerIsActive:a,initState:c&&c.initState,attachmentModule:c&&c.module,bootstrapped:c&&c.bootstrapped,postButtonModule:c&&c.postButtonModule,isSelected:d,attachmentID:this.attachmentID}}},UNSAFE_componentWillMount:function(){this.constructor.attachmentID||h(0,2069),this.props.selected&&this._shouldInitialize()&&this._initialize()},componentDidUpdate:function(a,c){this.state.initState===b("ReactComposerAttachmentInitState").INITIALIZING&&this._shouldInitialize()&&this._initialize()},renderX:function(){if(!this.state.attachmentModule||!this.state.bootstrapped){var a=this.getPlaceholderModule&&this.getPlaceholderModule();a=a?a:b("ReactComposerAttachmentPlaceholder.react");return b("React").jsx(a,babelHelpers["extends"]({className:"_3rlw"},this.props))}a=this.state.attachmentModule;return b("React").jsx(a,babelHelpers["extends"]({},this.props,{postButtonModule:this.state.postButtonModule}))},_shouldInitialize:function(){return this.constructor.initOnlyWhenComposerActive?this.state.composerIsActive:!0},_initialize:function(){b("ReactComposerAttachmentLoader").load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI())}};e.exports=a}),null);
__d("XReactComposerListAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/list/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerListLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerListAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerListLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").LIST},propTypes:{selected:a.bool,bootload:a.func,bootloader:b("ReactComposerBootloaderPropTypes")},bootload:function(a){this.props.bootload?this.props.bootload(a):this.props.bootloader&&this.props.bootloader.listAttachment?this.props.bootloader.listAttachment(a):b("Bootloader").loadModules(["ReactComposerListAttachmentContainer.react","ReactComposerListPostButtonContainer.react"],a,"ReactComposerListLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerListAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("ReactComposerLiveVideoAttachmentSelector.react",["fbt","ix","Bootloader","React","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","asset"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=function(){if(!a.props.config||!a.props.contextConfig)return;b("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(b){b.startPreviewUI(a.props.contextConfig,a.props.config)},"ReactComposerLiveVideoAttachmentSelector.react")};return this.props.sprouts?b("React").jsx(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:h("642152"),label:this.props.label,onAfterSelected:c}):b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO,label:this.props.label,icon:this.props.icon,"data-testid":"live-video-attachment-selector",loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,onAfterSelected:c})};return c}(b("React").PureComponent);c.propTypes={icon:a.any,label:a.node};c.defaultProps={icon:h("101619"),label:g._("Live Video")};e.exports=c}),null);
__d("XReactComposerLiveVideoAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/live_video/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"Int",required:!0}})}),null);
__d("ReactComposerLiveVideoLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerLiveVideoAttachmentBootstrapController"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerLiveVideoLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{selected:a.bool},statics:{attachmentID:b("ReactComposerAttachmentType").LIVE_VIDEO},bootload:function(a){b("Bootloader").loadModules(["ReactComposerLiveVideoAttachmentContainer.react"],a,"ReactComposerLiveVideoLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerLiveVideoAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=c}),null);
__d("ReactComposerTaskActionType",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({SET_TITLE:null,SET_ASSIGNEE:null,SET_ASSIGNEE_NAME:null,SET_DESCRIPTION:null,SET_STATUS:null,SET_DUE_DATE:null,SET_TASK_CONFIG:null},"ReactComposerTaskActionType")}),null);
__d("ReactComposerTaskStore",["ReactComposerStoreBase","ReactComposerTaskActionType"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{task_title:"",task_assignee:null,task_assignee_name:"",task_description:"",task_due_date:null,task_status:"OPEN",searchSource:null}},function(a){__p&&__p();switch(a.type){case b("ReactComposerTaskActionType").SET_TITLE:d&&d.$ReactComposerTaskStore1(a);break}switch(a.type){case b("ReactComposerTaskActionType").SET_DESCRIPTION:d&&d.$ReactComposerTaskStore2(a);break}switch(a.type){case b("ReactComposerTaskActionType").SET_DUE_DATE:d&&d.$ReactComposerTaskStore3(a);break}switch(a.type){case b("ReactComposerTaskActionType").SET_STATUS:d&&d.$ReactComposerTaskStore4(a);break}switch(a.type){case b("ReactComposerTaskActionType").SET_ASSIGNEE:d&&d.$ReactComposerTaskStore5(a);break}switch(a.type){case b("ReactComposerTaskActionType").SET_ASSIGNEE_NAME:d&&d.$ReactComposerTaskStore6(a);break}switch(a.type){case b("ReactComposerTaskActionType").SET_TASK_CONFIG:d&&d.$ReactComposerTaskStore7(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerTaskStore1=function(a){a=this.validateAction(a,["composerID","task_title"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_title=a;this.emitChange(b)};d.getTitleText=function(a){return this.getComposerData(a).task_title};d.$ReactComposerTaskStore2=function(a){a=this.validateAction(a,["composerID","task_description"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_description=a;this.emitChange(b)};d.$ReactComposerTaskStore7=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.searchSource=a.searchSource;this.emitChange(b)};d.getSearchSource=function(a){return this.getComposerData(a).searchSource};d.getDescription=function(a){return this.getComposerData(a).task_description};d.$ReactComposerTaskStore3=function(a){a=this.validateAction(a,["composerID","task_due_date"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_due_date=a;this.emitChange(b)};d.getDueDate=function(a){return this.getComposerData(a).task_due_date};d.$ReactComposerTaskStore4=function(a){a=this.validateAction(a,["composerID","task_status"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_status=a;this.emitChange(b)};d.getStatus=function(a){return this.getComposerData(a).task_status};d.$ReactComposerTaskStore5=function(a){a=this.validateAction(a,["composerID","task_assignee"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_assignee=a;this.emitChange(b)};d.getAssignee=function(a){return this.getComposerData(a).task_assignee};d.$ReactComposerTaskStore6=function(a){a=this.validateAction(a,["composerID","task_assignee_name"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.task_assignee_name=a;this.emitChange(b)};d.getAssigneeName=function(a){return this.getComposerData(a).task_assignee_name};d.getTaskData=function(a){return{task_assignee:this.getAssignee(a),task_description:this.getDescription(a),task_due_date:this.getDueDate(a),task_status:this.getStatus(a),task_title:this.getTitleText(a)}};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerTaskActions",["ReactComposerDispatcher","ReactComposerTaskActionType","ReactComposerTaskStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerTaskStore");a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.setTitle=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_TITLE,task_title:c})};c.setDescription=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_DESCRIPTION,task_description:c})};c.setStatus=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_STATUS,task_status:c})};c.setAssignee=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_ASSIGNEE,task_assignee:c?c:null})};c.setAssigneeName=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_ASSIGNEE_NAME,task_assignee_name:c})};c.setDueDate=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerTaskActionType").SET_DUE_DATE,task_due_date:c})};c.setConfig=function(a,c){a={composerID:a,type:b("ReactComposerTaskActionType").SET_TASK_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ReactComposerPrefillActions",["ReactComposerDispatcher","ReactComposerPrefillActionTypes","ReactComposerPrefillStore"],(function(a,b,c,d,e,f){b("ReactComposerPrefillStore");a={setPrefillData:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerPrefillActionTypes").SET_PREFILL_DATA,prefillConfig:c})}};e.exports=a}),null);
__d("ReactComposerContextProviderMixin",["invariant","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g){var h={childContextTypes:b("ReactComposerContextTypes"),staticGetChildContext:function(a){return{actorID:a.contextConfig.actorID,composerID:a.contextConfig.composerID,composerType:a.contextConfig.composerType,extraConfig:a.contextConfig.extraConfig,gks:a.contextConfig.gks||{},targetID:a.contextConfig.targetID,jsModules:a.contextConfig.jsModules,jsResources:a.contextConfig.jsResources}},getChildContext:function(){return h.staticGetChildContext(this.props)},UNSAFE_componentWillMount:function(){this.props.contextConfig.actorID||g(0,4393),this.props.contextConfig.composerID||g(0,4394),this.props.contextConfig.composerType||g(0,4395),this.props.contextConfig.targetID||g(0,4396)}};e.exports=h}),null);
__d("CollectionThumbnail.react",["cssVar","cx","fbt","BackgroundImage.react","Focus","React","isKeyActivation","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("isKeyActivation")(a)&&(d.props.onClick&&d.props.onClick(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.focus=function(){b("Focus").set(this.$1,!0)};d.render=function(){var a=this,c;return(c=b("React")).jsxs("div",{className:b("joinClasses")(this.props.className,"_2vw6"),onClick:this.props.onClick,onKeyDown:this.$2,tabIndex:0,ref:function(b){return a.$1=b},role:"button",children:[c.jsx(b("BackgroundImage.react"),{backgroundSize:"cover",height:parseInt("140px",10),src:this.props.thumbnailURL,width:parseInt("140px",10)}),c.jsxs("div",{className:"_3iom",children:[c.jsxs("div",{className:"_3ion",children:[c.jsx(b("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_1x7m",height:12,src:this.props.privacyIcon,width:12}),this.props.collectionName]}),c.jsx("div",{className:"_3ioo",children:i._({"*":"{number of posts} posts","_1":"1 post"},[i._plural(this.props.numPosts,"number of posts")])})]})]})};return c}(b("React").PureComponent);c.propTypes={collectionID:a.oneOfType([a.string,a.number]).isRequired,collectionName:a.string.isRequired,className:a.string,numPosts:a.number.isRequired,onClick:a.func,thumbnailURL:a.string.isRequired,privacyIcon:a.string};e.exports=c}),null);
__d("ReactComposerCollectionsActions",["ReactComposerCollectionsActionTypes","ReactComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={showCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR})},hideCollectionsSelector:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},hideCollectionsSelectorWithoutLogging:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:b("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR})},showCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER})},hideCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER})},showSharingSpaceCreationLayer:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER})},hideSharingSpaceCreationLayer:function(a,c,d){d===void 0&&(d=!1),b("ReactComposerDispatcher").dispatch({composerID:a,isCancel:d,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER})},spacesLoaded:function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:c,type:b("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED,spaceCount:d})}};e.exports=a}),null);
__d("ReactComposerCollectionSelector.react",["ix","cx","fbt","AccessibleLayer","CollectionThumbnail.react","ContextualLayer.react","ContextualLayerAutoFlip","Grid.react","ReactComposerAudienceActions","ReactComposerCollectionsActions","ReactComposerCollectionsStore","ReactComposerLoggingName","InlineBlock.react","Image.react","LayerAutoFocus","LayerHideOnEscape","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerTabIsolation","Link.react","ShimButton.react","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","XUIPopoverButton.react","XUISpinner.react","ReactComposerContextTypes","React","ReactDOM","fbglyph","focusWithinLayer","ifRequired","isKeyActivation"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$3=function(){d.props.selectorVisible||b("ReactComposerCollectionsActions").showCollectionsSelector(d.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_BUTTON)},d.$4=function(a){b("isKeyActivation")(a)&&d.$5(a.nativeEvent)},d.$5=function(a){b("ReactComposerAudienceActions").setCollectionID(d.context.composerID,b("ReactComposerLoggingName").COLLECTION_CLEAR_BUTTON,null),a.stopPropagation()},d.$6=function(a,c){c===void 0&&(c=b("ReactComposerLoggingName").OTHERS),!a&&d.props.selectorVisible&&b("ReactComposerCollectionsActions").hideCollectionsSelector(d.context.composerID,c)},d.$7=function(){b("ReactComposerCollectionsActions").hideCollectionsSelectorWithoutLogging(d.context.composerID),b("ReactComposerCollectionsActions").showCreationLayer(d.context.composerID,b("ReactComposerLoggingName").COLLECTIONS_SELECTOR_CREATE_BUTTON)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a,c){__p&&__p();if(this.props.selectorVisible&&!a.selectorVisible&&this.props.selectedCollectionID){c=b("ReactDOM").findDOMNode(this.refs[this.props.selectedCollectionID]);if(c!==null&&this.$1!==null){var d=b("ReactDOM").findDOMNode(this.$1);d!==null&&(d.scrollTop=c.offsetTop)}}if(a.collections&&a.collections.isLoading()&&this.props.collections&&!this.props.collections.isLoading()){d=b("ReactDOM").findDOMNode(this.$2);d&&b("focusWithinLayer")(d,!0)}};d.$8=function(a){var c=this;a.id==this.props.selectedCollectionID?b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,null):b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ReactComposerLoggingName").COLLECTION_SELECTED,a.id,a.privacyLabel);this.$6(!1,b("ReactComposerLoggingName").COLLECTION_SELECTED);b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(c.context.composerID)})};d.$9=function(a){if(a==null)return null;a=b("ReactComposerCollectionsStore").getCollectionByID(this.context.composerID,a);return a?a.name:null};d.$10=function(a){if(a){a=this.$9(a);if(a)return a}return i._("+ Album").toString()};d.$11=function(){return b("React").jsx(b("ShimButton.react"),{className:(this.props.selectedCollectionID?"":"autofocus")+" _2vw6 _1xp0",onClick:this.$7,children:b("React").jsxs("div",{className:"_1xp2",children:[b("React").jsx("div",{className:"_1xp3"}),i._("Create Album")]})},"addAlbumButton")};d.$12=function(){var a;return(a=b("React")).jsxs("div",{className:"_1d5t",children:[a.jsx("span",{className:"_1d5u"}),a.jsx("div",{className:"_1d5v",children:i._("No albums to show")}),a.jsx(b("XUIButton.react"),{label:i._("Create Album"),use:"confirm",onClick:this.$7})]},"albumsNullState")};d.$13=function(){var a=this.props.collections&&this.props.collections.getValue(),b=this.$11();return!a||!a.albums||a.albums.length===0?this.$12():this.$14("albumsGrid",b,a.albums)};d.$14=function(a,c,d){var e=this;c=[c];d&&c.push(d.map(function(a){return b("React").jsx(j,{ref:a.id,className:a.id===e.props.selectedCollectionID?"_5zfq":"",children:b("React").jsx(b("CollectionThumbnail.react"),{className:a.id===e.props.selectedCollectionID?"autofocus":"",collectionID:a.id,collectionName:a.name,numPosts:a.numPosts,onClick:function(){return e.$8(a)},thumbnailURL:a.thumbnailURL,privacyIcon:a.privacyIcon})},a.id)}));return b("React").jsx(b("Grid.react"),{className:"_1d5w",cols:2,fixed:!1,children:c},a)};d.$15=function(){var a=this;if(!this.props.collections)return null;else{var c;return(c=b("React")).jsx(b("ContextualLayer.react"),{behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return a.refs.collectionSelectorTrigger},onToggle:this.$6,position:"below",shown:this.props.selectorVisible,children:c.jsxs(b("XUICard.react"),{className:"_5ze9",children:[c.jsx(b("XUICardHeader.react"),{className:"_5zea",type:"primary",children:c.jsx(b("XUICardHeaderTitle.react"),{children:i._("Albums")})}),c.jsx(b("XUICardSection.react"),{ref:function(b){return a.$1=b},className:"_5zeh",children:!this.props.collections||this.props.collections.isLoading()?b("React").jsx("div",{className:"_2n10",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})}):b("React").jsx("div",{ref:function(b){return a.$2=b},children:this.$13()})})]})})}};d.$16=function(){return null};d.$17=function(){var a=this;return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.collectionSelectorTrigger},shown:this.props.showAnyPostTypeNux,onCloseButtonClick:this.props.onAnyPostTypeNuxClose,position:this.props.alternateTriggerComponent?"below":"above",children:i._("Now you can add posts, check-ins and more to albums")})};d.render=function(){var a=!!this.$9(this.props.selectedCollectionID);return b("React").jsxs(b("InlineBlock.react"),{className:"uiContextualLayerParent",children:[this.props.alternateTriggerComponent?b("React").jsx(b("Link.react"),{role:"button",onClick:this.$3,ref:"collectionSelectorTrigger",children:this.props.alternateTriggerComponent}):b("React").jsx(b("XUIPopoverButton.react"),{className:"_5ze8",label:this.$10(this.props.selectedCollectionID),onClick:this.$3,ref:"collectionSelectorTrigger",use:"confirm",chevron:a?b("React").jsx(b("Image.react"),{onClick:this.$5,onKeyDown:this.$4,role:"button",src:g("114707"),tabIndex:0}):null}),this.$15(),this.$16(),this.props.onAnyPostTypeNuxVisible&&this.$17()]})};return c}(b("React").PureComponent);a.defaultProps={collections:null,creationLayerVisible:!1,selectedCollectionID:null,selectorVisible:!1,showAnyPostTypeNux:!1,onAnyPostTypeNuxVisible:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerCollectionSelectorContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAudienceStore","ReactComposerCollectionSelector.react","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerSproutsDisplayState","ReactComposerStore","SimpleNUXMessage","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerCollectionSelectorContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAudienceStore"),b("ReactComposerCollectionsStore"))],propTypes:{alternateTriggerComponent:a.element,addAnyPostToAlbum:a.bool},statics:{calculateState:function(a,c,d){return{collections:b("ReactComposerCollectionsStore").getCollections(a),selectedCollectionID:b("ReactComposerAudienceStore").getCollectionID(a),isSelectorVisible:b("ReactComposerCollectionsStore").isSelectorVisible(a),isCreationLayerVisible:b("ReactComposerCollectionsStore").isCreationLayerVisible(a),showAnyPostTypeNux:c.addAnyPostToAlbum&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID)}}},_onAnyPostTypeNuxClose:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").ALBUMSV2_ANY_POST_TYPE_WWW),this.setState({showAnyPostTypeNux:!1})},render:function(){return b("React").jsx(b("ReactComposerCollectionSelector.react"),{alternateTriggerComponent:this.props.alternateTriggerComponent,collections:this.state.collections,creationLayerVisible:this.state.isCreationLayerVisible,selectedCollectionID:this.state.selectedCollectionID,selectorVisible:this.state.isSelectorVisible,showAnyPostTypeNux:this.state.showAnyPostTypeNux,onAnyPostTypeNuxClose:this._onAnyPostTypeNuxClose,onAnyPostTypeNuxVisible:this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED})}});e.exports=c}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,d){b=a.call(this,b,d)||this;b.beforeCalculateInitialState(b.context.composerID,b.props);b.state=c.calculateState(b.state,b.props,b.context);return b}c.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerFocusStore"),b("ReactComposerAudienceStore")]};var d=c.prototype;d.beforeCalculateInitialState=function(a,c){c.expandOnInit&&(b("ReactComposerActions").expandSprouts(this.context.composerID),b("ReactComposerAttachmentActions").initializeAttachment(a,c.defaultAttachmentOnExpand,!0,b("ReactComposerLoggingName").OTHERS))};c.calculateState=function(a,c,d){a=d.composerID;return{displayState:b("ReactComposerStore").getSproutsDisplayState(a),isFocused:b("ReactComposerFocusStore").isComposerFocused(a),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};d.UNSAFE_componentWillMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(c,d){return a.$2(b("ReactComposerLoggingName").PROMPT,d&&d.selectedTagger)}))};d.componentDidMount=function(){this.props.expandOnInit&&this.$2(b("ReactComposerLoggingName").ELLIPSIS_SPROUT)};d.render=function(){var a=this;return b("React").jsx("div",{className:"_1cx1"+(this.state.displayState===b("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===b("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":"")+(this.state.messengerSectionVisible?" _1qf9":""),onClick:function(c){a.$2(b("ReactComposerLoggingName").INLINE_COMPOSER),a.props.onClick&&a.props.onClick(c)},role:"presentation",children:b("React").jsx(b("ReactComposer.react"),babelHelpers["extends"]({},this.props.innerProps,{children:this.props.children}))})};d.$2=function(a,c){__p&&__p();var d=this;if(!this.state.isFocused){this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID);b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,!0,a);var e=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,e||this.props.defaultAttachmentOnExpand,!0,a);c&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,c.loggingName,c.taggerType);(!b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===b("ReactComposerTaggerType").FORMATTED_TEXT)&&setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},0)}};return c}(b("React").PureComponent);a.defaultProps={expandOnInit:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerMediaPrefillConfig",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({photoID:a.string,uploadID:a.string,thumbSrc:a.string,fileURL:a.string,filename:a.string,isSpherical:a.bool,mediaType:a.string})}),null);
__d("ReactComposerPhotoPrefillConfig",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({uploadID:a.string,photoID:a.string,thumbSrc:a.string,isSpherical:a.bool,mediaType:a.string})}),null);
__d("ReactComposerPrefillConfig",["React","ReactComposerAttachmentType","ReactComposerMediaPrefillConfig","ReactComposerPhotoPrefillConfig","ReactComposerTaggerType","getOwnObjectValues"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({postID:a.string,mentionsInput:a.shape({textWithEntities:a.shape({text:a.string}),selection:a.object}),selectedAttachment:a.oneOf(b("getOwnObjectValues")(b("ReactComposerAttachmentType"))),shouldActivateSelectedAttachment:a.bool,taggersData:a.object,selectedTagger:a.oneOf(b("getOwnObjectValues")(b("ReactComposerTaggerType"))),mediasData:a.arrayOf(b("ReactComposerMediaPrefillConfig")),photosData:a.arrayOf(b("ReactComposerPhotoPrefillConfig")),attachmentPreviewData:a.shape({scrapedURL:a.string,scrapedAttachment:a.shape({markup:a.object,attachmentConfig:a.object}),minutiaeAttachment:a.shape({markup:a.object})}),composerSellAttachment:a.shape({title:a.string,price:a.string,categoryID:a.string,categoryText:a.string,locationID:a.string,locationText:a.string,uneditablePriceOverride:a.string}),donateConfig:a.shape({charityName:a.string,fundraiserCampaignId:a.string}),liveBroadcastData:a.shape({accessToken:a.string,streamURL:a.string}),topicFeedTags:a.arrayOf(a.string),multilingualData:a.shape({specifiedDialect:a.string,multilingualStatuses:a.arrayOf(a.shape({dialect:a.string,message:a.string}))}),expandSproutsOnInit:a.bool,disableRemovePhotos:a.bool,taskData:a.shape({assigneeID:a.number,assigneeName:a.string,canEditMessage:a.bool.isRequired,composerDomID:a.object.isRequired,description:a.string,dueDate:a.number.isRequired,postID:a.number.isRequired,status:a.string.isRequired,storyDomID:a.string.isRequired,title:a.string.isRequired}),composedText:a.shape({blocks:a.arrayOf(a.object),entities:a.object}),findPlayersAttachment:a.shape({name:a.string,title:a.string,tags:a.string}),groupMeetUpAttachment:a.shape({module:a.func.isRequired,defaultLocationPageName:a.string.isRequired,defaultLocationPageID:a.string.isRequired,locationName:a.string.isRequired,locationPageID:a.string.isRequired,roughTime:a.string.isRequired,dateTimeInfo:a.object.isRequired,locationTimezoneOffset:a.number.isRequired,timezoneLabel:a.string.isRequired}),civicCTAAttachment:a.shape({module:a.func.isRequired,goal:a.number,deadline:a.string,target:a.object,groupID:a.string.isRequired,memberCount:a.number.isRequired}),asset3dAttachment:b("ReactComposerMediaPrefillConfig"),brandedContentDealData:a.shape({bcmpDealID:a.string.isRequired,sponsorID:a.string.isRequired})})}),null);
__d("ReactComposerPrefillUtils",["Arbiter","Bootloader","PagesComposerContextUtils","PagesComposerUtils","ReactComposerAsset3dAttachmentActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerEvents","ReactComposerFocusActions","ReactComposerLoggingName","ReactComposerMediaUploadActions","ReactComposerMediaUploadType","ReactComposerPrefillActions","ReactComposerStore","ReactComposerTaskActions","TextDelightInComposerController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagesComposerContextUtils").getIsDraftComposer,h=b("PagesComposerUtils").shouldUsePageDefaultDestination,i=b("TextDelightInComposerController").matcher;a={prefill:function(a,c,d){b("ReactComposerPrefillActions").setPrefillData(a,c),this._prefillMedia(a,c),this._prefillDestinationPicker(a,c,d),this._prefillCTAAttachment(a,c),this._prefillAsset3d(a,c),this._prefillStatusText(a,c),this._prefillTask(a,c),this._prefillBrandedContentDeal(a,c)},_prefillCTAAttachment:function(a,c){__p&&__p();if(!c.ctaConfig)return;c=c.ctaConfig;var d=c.attachmentID;c=c.entryPointRef;if(!b("ReactComposerAttachmentStore").hasAttachment(a,d))return;c=g(c);var e=c?b("ReactComposerLoggingName").AYMT_CTA_UPSELL:null;b("ReactComposerAttachmentActions").selectAttachment(a,d,!0,e,c?b("ReactComposerStore").getSproutSurface(a):null,null,e);b("Arbiter").subscribe("ReactComposerFocus/initialized"+a,function(){b("Arbiter").inform("ReactFeedComposerXBootloader/focuscomposer/"+a),b("ReactComposerFocusActions").notifyFocusAcquired(a)})},_prefillAsset3d:function(a,c){c=c.asset3dAttachment;if(!c)return;b("ReactComposerAsset3dAttachmentActions").prefill(a,c)},_prefillStatusText:function(a,c){var d=this,e=c.composedText,f=c.mentionsInput;e?b("Bootloader").loadModules(["ReactComposerPrefillComposedText","ReactComposerStatusActions"],function(b,c){b=b.createEditorState(e.blocks,e.entities);c.setEditorState(a,b);d._informComposerUpdated(a)},"ReactComposerPrefillUtils"):f?b("Bootloader").loadModules(["ReactComposerPrefillMentionsInput","ReactComposerStatusActions"],function(b,c){b=b.createEditorState(f.textWithEntities,f.selection);i&&f.textWithEntities&&(b=i.addDelightsIntoEditorState(f.textWithEntities.text,f.textWithEntities.textdelightranges,"post",b,a));c.setEditorState(a,b);d._informComposerUpdated(a)},"ReactComposerPrefillUtils"):b("Arbiter").inform(b("ReactComposerEvents").SET_PREFILL_DATA+a,null,"state")},_informComposerUpdated:function(a){b("Arbiter").inform(b("ReactComposerEvents").SET_PREFILL_DATA+a,null,"state"),b("Arbiter").inform(b("ReactComposerEvents").RERENDER_MENTION_INPUT+a)},_prefillMedia:function(a,c){var d=c.photosData;d&&d.length>0&&d.forEach(function(a){a.mediaType=b("ReactComposerMediaUploadType").PHOTO});c=c.mediasData;c=c||d;c&&c.length>0&&(b("ReactComposerAttachmentStore").getSelectedAttachmentID(a)!==b("ReactComposerAttachmentType").MEDIA&&b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,"MEDIA",b("ReactComposerStore").getSproutSurface(a),null,b("ReactComposerLoggingName").MEDIA_SPROUT),b("ReactComposerMediaUploadActions").prefillMedias(a,c))},_prefillTask:function(a,c){c=c.taskData;if(!c)return;b("ReactComposerTaskActions").setAssignee(a,c.assigneeID);b("ReactComposerTaskActions").setAssigneeName(a,c.assigneeName);b("ReactComposerTaskActions").setDescription(a,c.description);b("ReactComposerTaskActions").setDueDate(a,c.dueDate);b("ReactComposerTaskActions").setStatus(a,c.status);b("ReactComposerTaskActions").setTitle(a,c.title)},_prefillDestinationPicker:function(a,c,d){c.timelineSelected===void 0&&c.storiesSelected===void 0&&d&&d.defaultDestination&&!h(d.defaultDestination)?(b("ReactComposerAudienceActions").setTimelineSelected(a,d.defaultDestination==="TIMELINE"),b("ReactComposerAudienceActions").setStoriesSelected(a,d.defaultDestination==="STORIES")):(c.timelineSelected!==void 0&&b("ReactComposerAudienceActions").setTimelineSelected(a,c.timelineSelected),c.storiesSelected!==void 0&&b("ReactComposerAudienceActions").setStoriesSelected(a,c.storiesSelected)),c.messengerSectionVisible&&b("ReactComposerAudienceActions").clickSeeMessenger(a)},_prefillBrandedContentDeal:function(a,c){var d=c.brandedContentDealData;if(!d)return;b("Bootloader").loadModules(["ReactComposerBrandedContentDealUtil"],function(b){b.bootloadBCMPDealComposer(a,d.bcmpDealID,d.sponsorID)},"ReactComposerPrefillUtils")}};e.exports=a}),null);
__d("CreatorStudioComposerActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;function a(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_COMPOSER_INITIALIZED})}function c(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_SUCCESS})}function d(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_ATTEMPT})}function f(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CANCEL})}function h(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CONFIRM})}function i(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_ERROR})}function j(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_INITIALIZED})}function k(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BASIC_POST,entryPoint:a})}function l(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BULK_UPLOAD_LEGACY})}function m(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_GO_LIVE_POST,entryPoint:a})}function n(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_VIDPRESSO_NEW_POST,entryPoint:a})}function o(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_SINGLE_VIDEO,fileInput:a,entryPoint:c})}function p(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_VIDPRESSO_SCHEDULED_POST,entryPoint:a})}function q(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_BOOTLOAD_ERROR})}function r(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_SET_TARGET_PAGE,targetPage:a})}function s(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_SHOW_PAGE_SELECTOR_TRAY,postType:a})}function t(a){b("MediaManagerDispatcher").dispatch({videoComposerID:a,type:g.COMPOSER_VIDEO_COMPOSER_INITIALIZED})}function u(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_PUBLISH_SUCCESS})}function v(a){b("MediaManagerDispatcher").dispatch({type:g.LLVC_LAUNCH_CHANNEL_COMPOSER,entryPoint:a})}e.exports={basicPostComposerInitialized:a,basicPostSuccess:c,closeTrayAttempt:d,closeTrayCancel:f,closeTrayConfirm:h,goLiveComposerError:i,goLiveComposerInitialized:j,launchBasicPostTray:k,launchComposerBulkUploadLegacy:l,launchGoLivePost:m,launchSingleVideoComposer:o,launchVidpressoNewPost:n,launchVidpressoScheduledPost:p,setBasicPostBootloadError:q,showPageSelectorTray:s,setTargetPage:r,videoComposerInitialized:t,videoComposerPublishSuccess:u,launchLinearChannelPost:v}}),null);
__d("XReactComposerQuestionAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/question/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);